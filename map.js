!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build",t(t.s=48)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(13);a.d(t,"bbox",function(){return n.a});var o=a(8);a.d(t,"feature",function(){return o.a});var r=a(66);a.d(t,"mesh",function(){return r.a}),a.d(t,"meshArcs",function(){return r.b});var i=a(65);a.d(t,"merge",function(){return i.a}),a.d(t,"mergeArcs",function(){return i.b});var l=a(67);a.d(t,"neighbors",function(){return l.a});var s=a(68);a.d(t,"quantize",function(){return s.a});var u=a(9);a.d(t,"transform",function(){return u.a});var c=a(16);a.d(t,"untransform",function(){return c.a})},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(7),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=new i.default(["geo","group","pane","data","type","render","name","map","svg","refreshMap"]),s=function(){function e(){n(this,e),l.addTo(this)}return o(e,[{key:"draw",value:function(e){return Object.assign(this,{draw:e}),this}},{key:"update",value:function(e){return Object.assign(this,{update:e}),this}},{key:"remove",value:function(e){return Object.assign(this,{remove:e}),this}},{key:"addPropMethods",value:function(e){return this.addProps(e),this}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(58),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,["selection","text","position","div"]));return e.defaultProps({styles:{tooltip:{color:"black","font-weight":"normal","font-size":".8em","line-height":"1.5em",background:"rgba(255,255,255,.7)","padding-left":"10px","padding-right":"10px","padding-top":"4px","padding-bottom":"4px","border-radius":"5px","max-width":"250px"},titles:{"font-weight":"bold"}}}),e}return r(t,e),i(t,[{key:"styles",value:function(){var e=arguments.length<=0?void 0:arguments[0];return 0===arguments.length?this._.styles:(Object.assign(this._.styles.tooltip,e.tooltip),Object.assign(this._.styles.titles,e.titles),this)}},{key:"draw",value:function(){var e=this.props(),t=e.selection,a=e.text,n=e.position,o=e.styles;d3.selectAll(".tooltip").remove(),this._.div=t.append("div").classed("tooltip",!0).styles({position:"absolute",left:n[0]+"px",top:n[1]+"px","pointer-events":"none","z-index":950,class:"tooltip",opacity:0}).on("click",function(){d3.selectAll(".tooltip").remove()}).styles(o.tooltip);var r=this.props(),i=r.div;return i.selectAll(".tooltip-text-row").data(a).enter().append("div").each(function(e){d3.select(this).append("span").classed("tooltip__title",!0).styles(o.titles).text(e[0]),d3.select(this).append("span").text(e[1])}),i.transition().duration(0).style("opacity",1),this}},{key:"update",value:function(){var e=this.props(),t=e.div,a=e.position;return t.styles({left:a[0]+"px",top:a[1]+"px"}),this}},{key:"remove",value:function(){var e=this.props(),t=e.div;void 0!==t&&t.transition().duration(0).style("opacity",0).remove()}}]),t}(s.default);t.default=u},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(t){var a=this,o=t.target,r=t.fields;n(this,e),r.forEach(function(e){a[e]=function(){for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];if(0===a.length)return o.get(this)[e];var r=a[0];return o.get(this)[e]=r,this}})}return o(e,[{key:"addTo",value:function(e){Object.assign(e,this)}}]),e}();t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLayer=t.loadData=void 0;var n=a(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.loadData=function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,r=t.refreshMap,i=a.dataPath;this._.tooltip=(new o.default).selection(d3.select("#map")),void 0===n?d3.json(i,function(t){e._.data=t,e.drawLayer(),r()}):(this.drawLayer(),r())},t.removeLayer=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),i=a(6),l=n(i),s=function(e){var t=e.privateProps,a=e.privateMethods;return{privateBaseMethods:{draw:function(){var e=t.get(this),n=e.leafletMap,o=e.data,r=e.tooltip,i=e.tooltipOffset,l=a.getTooltipText;e.mapLayer=L.geoJSON(o,{style:function(e){return{color:e.properties.color,fillOpacity:.8,stroke:!1}},interactive:!0,onEachFeature:function(e,t){var a=l.call(this,e);t.on("mousedown",function(){r.remove()}),t.on("mouseover click",function(e){t.setStyle({fillOpacity:1});var n=[e.containerPoint.x+i.x,e.containerPoint.y+i.y];r.position(n).text(a).draw()}),t.on("mousemove",function(e){var t=[e.containerPoint.x+i.x,e.containerPoint.y+i.y];r.position(t).update()}),t.on("mouseout",function(){t.setStyle({fillOpacity:.8}),r.remove()})}}),e.mapLayer.addTo(n)}},publicBaseMethods:{init:function(){var e=t.get(this),a=e.name,n=l.default.find(function(e){return e.name===a});return e.dataPath=n.dataPath,e.tooltip=(new r.default).selection(d3.select("#map")),this},draw:function(){var e=this,n=t.get(this),o=n.dataPath,r=n.data,i=n.status,l=a.draw,s=a.cleanData,u=a.getLegend;i||(void 0===r?d3.json(o,function(t){n.data=s.call(e,t),void 0!==u&&(n.legend=u(t),n.legend.draw()),l.call(e)}):(l.call(this),void 0!==n.legend&&n.legend.draw()),n.status=!0)},remove:function(){var e=t.get(this),a=e.mapLayer,n=e.status,o=e.legend;n&&(e.status=!1,a.remove(),void 0!==o&&o.remove())}}}};t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.mapDatasetList=[{name:"slr",render:"d3",category:"Hydrology",fullName:"Projected Sea Level Rise",exclude:[],dataPath:["data/75in_clip_simplified.topojson","data/58in_clip_simplified.topojson","data/30in_clip_simplified.topojson","data/10in_clip_simplified.topojson"]},{name:"hurricane",render:"d3",category:"Hydrology",fullName:"Hurricane Evacuation Zones",exclude:[],dataPath:"data/hurricaneZonesClipped.topojson"},{name:"fema",render:"d3",category:"Hydrology",fullName:"Flood Zones",exclude:[],dataPath:"data/femaClipped.topojson"},{name:"sandy",render:"d3",category:"Hydrology",fullName:"Hurricane Sandy Inundation",exclude:[],dataPath:"data/sandyClipped.topojson"},{name:"watershed",render:"d3",category:"Hydrology",fullName:"Canal Watershed",exclude:[],dataPath:"data/watershedsketch.topojson"},{name:"cso",render:"d3",category:"Hydrology",fullName:"Combined Sewer Overflow",exclude:[],dataPath:{csoOutfall:"data/cso_outfall.geojson",csoArea:"data/cso.topojson"}},{name:"hwater",render:"d3",category:"Hydrology",fullName:"Historical Wetlands and Streams",exclude:[],dataPath:{hWater:"data/hwater.topojson",hWetlands:"data/hwetlands.topojson"}},{name:"cleanup",render:"d3",category:"Environment",fullName:"Cleanup Plan",exclude:[],dataPath:"data/cleanup.geojson"},{name:"galleries",render:"d3",category:"Culture",fullName:"Art Galleries",exclude:[],dataPath:"data/art_galleries_clip.geojson"},{name:"parks",render:"d3",category:"Culture",fullName:"Parks",exclude:[],dataPath:"data/parksClipped.topojson"},{name:"subway",render:"d3",category:"Infrastructure",fullName:"Subway Lines and Stops",exclude:[],dataPath:{subwayLines:"data/subwayLinesClipped.topojson",subwayStations:"data/subwayStationsClipped.topojson"}},{name:"bus",render:"d3",category:"Infrastructure",fullName:"Bus Routes and Stops",exclude:[],dataPath:{busRoutes:"data/busRoutes.topojson",busStops:"data/busStops.topojson"}},{name:"bike",render:"d3",category:"Infrastructure",fullName:"Bicycle Infrastructure",exclude:[],dataPath:{bikeRoutes:"data/bikeRoutesClipped.topojson",bikeRacks:"data/bikeRacksClipped.geojson"}},{name:"landuse",render:"leaflet",category:"Built Environment",fullName:"Land Use",exclude:["manufacturingLandUse","zoning","assessedValue","residential","commercial"],dataPath:"data/BKMapPlutoClipped.topojson"},{name:"residential",render:"leaflet",category:"Built Environment",fullName:"Residential Land Use",exclude:["manufacturingLandUse","landuse","assessedValue","zoning","commercial"],dataPath:"data/BKMapPlutoClipped.topojson"},{name:"commercial",render:"leaflet",category:"Built Environment",fullName:"Commercial Land Use",exclude:["manufacturingLandUse","landuse","assessedValue","zoning","residential"],dataPath:"data/BKMapPlutoClipped.topojson"},{name:"manufacturingLandUse",render:"leaflet",fullName:"Manufacturing Land Use",category:"Built Environment",exclude:["landuse","zoning","assessedValue","residential","commercial"],dataPath:"data/BKMapPlutoClipped.topojson"},{name:"zoning",render:"leaflet",category:"Built Environment",fullName:"Zoning",exclude:["manufacturingLandUse","landuse","assessedValue","residential","commercial"],dataPath:"data/BKMapPlutoClipped.topojson"},{name:"plutoBounds",render:"d3",category:"Built Environment",fullName:"Approximate Rezoning Area",exclude:[],dataPath:"data/rezoning.topojson"},{name:"assessedValue",render:"leaflet",category:"Built Environment",fullName:"Total Assessed Value",exclude:["manufacturingLandUse","landuse","zoning"],dataPath:"data/BKMapPlutoClipped.topojson"},{name:"demographics",render:"leaflet",category:"Social Landscape",fullName:"Demographics",exclude:[],dataPath:"data/demographics10Clipped.topojson"},{name:"youth",render:"leaflet",category:"Social Landscape",fullName:"Youth (< 18 Years Old)",exclude:[],dataPath:"data/under18_10.topojson"},{name:"senior",render:"leaflet",category:"Social Landscape",fullName:"Senior Citizens (> 64 Years Old)",exclude:[],dataPath:"data/over64_10.topojson"},{name:"nycha",render:"d3",category:"Built Environment",fullName:"NYCHA Campuses",exclude:[],dataPath:"data/nycha.topojson"},{name:"school",render:"d3",category:"Social Landscape",fullName:"School Districts",exclude:[],dataPath:"data/school.topojson"},{name:"police",render:"d3",category:"Social Landscape",fullName:"Police Precincts",exclude:[],dataPath:"data/police.topojson"},{name:"ibz",render:"d3",category:"Built Environment",fullName:"Southwest Brooklyn Industrial Business Zone",exclude:[],dataPath:"data/ibz.geojson"}];t.default=n},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e),this.addProps=function(e){var t=this;e.forEach(function(e){t[e]=function(){return 0===arguments.length?this._[e]:(this._[e]=arguments.length<=0?void 0:arguments[0],this)}})},this.addProps(t),this.props=function(){return this._},this.defaultValues={}}return o(e,[{key:"setDefaultValues",value:function(e){return Object.assign(this.defaultValues,e),this}},{key:"addTo",value:function(e){var t=Object.assign({},this.defaultValues);Object.assign(e,{_:t},this)}}]),e}();t.default=r},function(e,t,a){"use strict";function n(e,t){var a=t.id,n=t.bbox,r=null==t.properties?{}:t.properties,i=o(e,t);return null==a&&null==n?{type:"Feature",properties:r,geometry:i}:null==n?{type:"Feature",id:a,properties:r,geometry:i}:{type:"Feature",id:a,bbox:n,properties:r,geometry:i}}function o(e,t){function n(e,t){t.length&&t.pop();for(var n=p[e<0?~e:e],o=0,i=n.length;o<i;++o)t.push(d(n[o],o));e<0&&a.i(r.a)(t,i)}function o(e){return d(e)}function l(e){for(var t=[],a=0,o=e.length;a<o;++a)n(e[a],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=l(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(s)}function c(e){var t,a=e.type;switch(a){case"GeometryCollection":return{type:a,geometries:e.geometries.map(c)};case"Point":t=o(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(o);break;case"LineString":t=l(e.arcs);break;case"MultiLineString":t=e.arcs.map(l);break;case"Polygon":t=u(e.arcs);break;case"MultiPolygon":t=e.arcs.map(u);break;default:return null}return{type:a,coordinates:t}}var d=a.i(i.a)(e.transform),p=e.arcs;return c(t)}t.b=o;var r=a(69),i=a(9);t.a=function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return n(e,t)})}:n(e,t)}},function(e,t,a){"use strict";var n=a(14);t.a=function(e){if(null==e)return n.a;var t,a,o=e.scale[0],r=e.scale[1],i=e.translate[0],l=e.translate[1];return function(e,n){n||(t=a=0);var s=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*o+i,c[1]=(a+=e[1])*r+l;s<u;)c[s]=e[s],++s;return c}}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=new WeakMap,i={drawContainer:function(e){var t=e.name;return d3.select(".legend__content").append("div").attr("class","legend__"+t+" legend__block")},drawTitle:function(e){var t=e.container,a=e.title;t.append("div").attr("class","legend__layer-title").text(a)},drawRow:function(e){var t=e.data,a=e.container,n=e.gradient,o=t.type,r=t.color,i=t.text,l=a.append("div").attr("class","legend__row "+(n?"legend__row--gradient":"")),s=n?5:20,u=l.append("svg").styles({height:s+"px",width:"25px"});"dot"===o?u.append("circle").attrs({cx:"12.5",cy:""+s/2,fill:r,r:3}):"rect"===o&&u.append("rect").attrs({x:0,y:0,width:25,height:s,fill:r}),l.append("div").attr("class","legend__row-text").text(i)}},l=function(){function e(t){n(this,e),r.set(this,{name:null,title:null,content:null,gradient:!1}),this.config(t)}return o(e,[{key:"config",value:function(e){return Object.assign(r.get(this),e),this}},{key:"draw",value:function(){var e=r.get(this),t=e.name,a=e.content,n=e.title,o=e.gradient,l=i.drawContainer,s=i.drawTitle,u=i.drawRow;d3.select(".legend").classed("legend--on",!0);var c=l({name:t});s({container:c,title:n}),a.forEach(function(e){u({data:e,gradient:o,container:c})}),Object.assign(e,{container:c})}},{key:"remove",value:function(){r.get(this).container.remove();var e=d3.selectAll(".legend__block").size();d3.select(".legend").classed("legend--on",e>0)}}]),e}();t.default=l},function(e,t){function a(e,t){var a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var r=n(o);return[a].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([r]).join("\n")}return[a].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=a(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&n[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),t.push(i))}},t}},function(e,t,a){function n(e,t){for(var a=0;a<e.length;a++){var n=e[a],o=h[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(c(n.parts[r],t))}else{for(var i=[],r=0;r<n.parts.length;r++)i.push(c(n.parts[r],t));h[n.id]={id:n.id,refs:1,parts:i}}}}function o(e,t){for(var a=[],n={},o=0;o<e.length;o++){var r=e[o],i=t.base?r[0]+t.base:r[0],l=r[1],s=r[2],u=r[3],c={css:l,media:s,sourceMap:u};n[i]?n[i].parts.push(c):a.push(n[i]={id:i,parts:[c]})}return a}function r(e,t){var a=y(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function i(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),r(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),r(e,t),t}function u(e,t){Object.keys(t).forEach(function(a){e.setAttribute(a,t[a])})}function c(e,t){var a,n,o,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var u=g++;a=v||(v=l(t)),n=d.bind(null,a,u,!1),o=d.bind(null,a,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=s(t),n=f.bind(null,a,t),o=function(){i(a),a.href&&URL.revokeObjectURL(a.href)}):(a=l(t),n=p.bind(null,a),o=function(){i(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function d(e,t,a,n){var o=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var r=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function p(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function f(e,t,a){var n=a.css,o=a.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(n=w(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}(function(e){return document.querySelector(e)}),v=null,g=0,b=[],w=a(63);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=o(e,t);return n(a,t),function(e){for(var r=[],i=0;i<a.length;i++){var l=a[i],s=h[l.id];s.refs--,r.push(s)}if(e){n(o(e,t),t)}for(var i=0;i<r.length;i++){var s=r[i];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete h[s.id]}}}};var x=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e,t,a){"use strict";var n=a(9);t.a=function(e){function t(e){e=i(e),e[0]<l&&(l=e[0]),e[0]>u&&(u=e[0]),e[1]<s&&(s=e[1]),e[1]>c&&(c=e[1])}function o(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(o);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var r,i=a.i(n.a)(e.transform),l=1/0,s=l,u=-l,c=-l;e.arcs.forEach(function(e){for(var t,a=-1,n=e.length;++a<n;)t=i(e[a],a),t[0]<l&&(l=t[0]),t[0]>u&&(u=t[0]),t[1]<s&&(s=t[1]),t[1]>c&&(c=t[1])});for(r in e.objects)o(e.objects[r]);return[l,s,u,c]}},function(e,t,a){"use strict";t.a=function(e){return e}},function(e,t,a){"use strict";t.a=function(e,t){function a(t){var a,n=e.arcs[t<0?~t:t],o=n[0];return e.transform?(a=[0,0],n.forEach(function(e){a[0]+=e[0],a[1]+=e[1]})):a=n[n.length-1],t<0?[a,o]:[o,a]}function n(e,t){for(var a in e){var n=e[a];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){o[e<0?~e:e]=1}),l.push(n)}}var o={},r={},i={},l=[],s=-1;return t.forEach(function(a,n){var o,r=e.arcs[a<0?~a:a];r.length<3&&!r[1][0]&&!r[1][1]&&(o=t[++s],t[s]=a,t[n]=o)}),t.forEach(function(e){var t,n,o=a(e),l=o[0],s=o[1];if(t=i[l])if(delete i[t.end],t.push(e),t.end=s,n=r[s]){delete r[n.start];var u=n===t?t:t.concat(n);r[u.start=t.start]=i[u.end=n.end]=u}else r[t.start]=i[t.end]=t;else if(t=r[s])if(delete r[t.start],t.unshift(e),t.start=l,n=i[l]){delete i[n.end];var c=n===t?t:n.concat(t);r[c.start=n.start]=i[c.end=t.end]=c}else r[t.start]=i[t.end]=t;else t=[e],r[t.start=l]=i[t.end=s]=t}),n(i,r),n(r,i),t.forEach(function(e){o[e<0?~e:e]||l.push([e])}),l}},function(e,t,a){"use strict";var n=a(14);t.a=function(e){if(null==e)return n.a;var t,a,o=e.scale[0],r=e.scale[1],i=e.translate[0],l=e.translate[1];return function(e,n){n||(t=a=0);var s=2,u=e.length,c=new Array(u),d=Math.round((e[0]-i)/o),p=Math.round((e[1]-l)/r);for(c[0]=d-t,t=d,c[1]=p-a,a=p;s<u;)c[s]=e[s],++s;return c}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={mapBounds:[[40.68330841818999,-74.00514352808408],[40.66438090633452,-73.98112238190814]],svgBounds:[[40.72098,-74.049538],[40.652425,-73.93911]]};t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d3.select("#map-outer-container"),o=d3.select("#map"),r={outerContainer:n,mapContainer:o,getMapSize:function(){return{width:window.innerWidth,height:window.innerHeight}}};t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{name:"subak",fullName:"Abby Subak",title:"Artist",videoPath:"https://player.vimeo.com/video/212377487",imagePath:"jpg/subak.jpg",category:"Culture",description:"Abby is an artist and the Executive Director of Arts Gowanus, a local non-profit organization working to support, promote, and advocate for local artists and a sustainable arts community. Each year the organization sponsors Gowanus Open Studios, an event held in October that showcases local artists and their work, connecting them to the greater New York City community.",layers:["galleries","watershed"],quote:"There’s a reason Gowanus has become such a hub of creativity and artists’ culture, and that’s because of the affordable spaces that are here, and it’s because of the history of industry and manufacturing that has been going on in Gowanus for a couple hundred years now."},{name:"basile",fullName:"Paul Basile",title:"Developer",videoPath:"https://player.vimeo.com/video/213385666",imagePath:"jpg/basile.jpg",category:"Built Environment",description:"A property manager and developer, Paul founded Gowanus Alliance in 2010 with three friends, all second and third generation businessmen in the surrounding area. Paul promotes the retention of manufacturing, industrial, creative, and entertainment businesses in the Gowanus community; seeks a new location for the Kentile sign he rescued prior to its demolition; and advocates for new community playgrounds and parks.",layers:["manufacturingLandUse","ibz","watershed"],quote:"We need more of the same. We need more space for the manufacturers to feel comfortable that they can grow into a 5 or 10 year plan."},{name:"pinkard",fullName:"Tracey Pinkard",title:"Gowanus Houses Art Collective",videoPath:"https://player.vimeo.com/video/212377637",imagePath:"jpg/pinkard.jpg",category:"Social Landscape",description:"While working as Parent Coordinator at the Brooklyn School of Collaborative Studies, Tracey co-founded the Gowanus Houses Art Collective, an arts youth program for the complex where she is a long time resident. She sees the program as a bridge to the creative community in the surrounding wealthier neighborhoods, offering them a window into life in the public housing complex.",layers:["youth","nycha","watershed"],quote:"For many years the canal reeked, the smell was just horrible, and in the summer it permeated, it was just sickening. And so now there’s this Superfund, and there’s this big concern about the cleanup."},{name:"uz",fullName:"Michelle de la Uz",title:"Fifth Avenue Committee",videoPath:"https://player.vimeo.com/video/212377596",imagePath:"jpg/uz.jpg",category:"Social Landscape",description:"Michelle is the Executive Director of the Fifth Avenue Committee, a non-profit community organization in Brooklyn that develops and manages affordable housing and community facilities, creates economic opportunities and ensures access to economic stability, organizes residents and workers, offers student-centered adult education, and combats displacement caused by gentrification. She also serves on the New York City Planning Commission.",layers:["assessedValue","nycha","watershed"],quote:"I think that the cleanup processes that are underway and the rezoning that will be formally launched have the ability to try to right some wrongs that have existed historically, but I think that only happens if we are conscious about righting those wrongs."},{name:"valle",fullName:"Jared Della Valle",title:"Alloy Development",videoPath:"https://player.vimeo.com/video/212618083",imagePath:"jpg/valle.jpg",category:"Built Environment",description:"Jared has been a real estate professional and architect for more than 20 years and has managed the acquisition and predevelopment of more than 1 million sf in New York City along the Highline, in the Hudson Yards and in DUMBO, Brooklyn.",layers:["landuse","watershed"],quote:"The community plays a fairly extraordinary role in the planning process…[the Gowanus] is the intersection of so many different aspects of our city."},{name:"scotto",fullName:"Debra Scotto",title:"Clemente Realty",videoPath:"https://player.vimeo.com/video/212618060",imagePath:"jpg/scotto.jpg",category:"Built Environment",description:"After attending Brooklyn Law School, Debra started her own real estate company acting as agent, property manager and developer, advocating for affordable, responsible development. She is a Brooklyn CB6 Board member and serves on its Land Use/Landmarks Committee.",layers:["residential","watershed"],quote:"Some of the challenges in this community right now probably speak to infrastructure, the lack thereof, and lack of affordable housing."},{name:"wolfe",fullName:"Sue Wolfe",title:"Friends of Thomas Green Park",videoPath:"https://player.vimeo.com/video/212511159",imagePath:"jpg/wolfe.jpg",category:"Culture",description:'Sue Wolfe has called Brownstone Brooklyn "home" since the 1960\'s, first owning a brownstone in Fort Greene, then moving to a house in Boerum Hill, purchasing a house with their daughter in Red Hook and most recently buying a coop in Fort Greene. She is the President of Friends of Thomas Green Park, a non-profit advocating for the preservation of public park space in the Gowanus community.',layers:["parks","watershed"],quote:"The community needs more parks, more green space – we don’t see that happening."},{name:"nimmons",fullName:"Charlene Nimmons",title:"Public Housing Communities",videoPath:"https://player.vimeo.com/video/212511126",imagePath:"jpg/nimmons.jpg",category:"Social Landscape",description:"Charlene is a NYCHA resident and founder of Public Housing Communities, a group that promotes economic development in the community.",layers:["demographics","nycha","watershed"],quote:"I think more so we’re afraid of each other because of the unknown, and so if we come together and learn of who we each are I think that we would have a more productive community."},{name:"parker",fullName:"Andrea Parker",title:"Gowanus Canal Conservancy",videoPath:"https://player.vimeo.com/video/212511103",imagePath:"jpg/parker.jpg",category:"Environment",description:"With a degree from the University of Virginia and a background in Landscape Design, Andrea joined the Conservancy as a board member/volunteer in 2013. She was hired as the organization’s second Executive Director in 2014 and has been an adjunct professor at City College since 2015.",layers:["parks","cso","watershed"],quote:"It’s an extremely productive ecology – the canal and the manufacturing gas plants along it powered most of Brooklyn and built this town."},{name:"schoneveld",fullName:"Rebecca Schoneveld",title:"Schone Bridal",videoPath:"https://player.vimeo.com/video/213385699",imagePath:"jpg/schoneveld.jpg",category:"Built Environment",description:"Rebecca opened her shop on Third Avenue in 2013, with a beautiful and cheerful boutique space in the front and a full sewing production and design studio in the back where visitors can see firsthand the process that goes into creating original, locally handcrafted gowns.",layers:["commercial","watershed"],quote:"We can have a really creative, flourishing community that embraces all the cultures that have been here for generations."},{name:"luna",fullName:"Rafael Gomez Luna",title:"Community Activist",videoPath:"https://player.vimeo.com/video/213385687",imagePath:"jpg/gomez.jpg",category:"Culture",description:"Rafael was born in Santo Domingo, Dominican Republic and moved to NYC when he was 18. As a child he witnessed the Dominican civil war and the end of the Trujillo regime. He has worked as a model, an actor, and as a community and housing activist in Washington Heights, the Lower East Side, and in Brooklyn. He is married with a young daughter, and lives and works in Gowanus.",layers:["school","galleries","watershed"],quote:"What our community needs most is for us as residents, organizations, developers, activists, elected officials to come together and try to preserve what we already have while at the same time help progress come our way."},{name:"reich",fullName:"Peter Reich",title:"288 Nevins Street Tenants Association",videoPath:"https://player.vimeo.com/video/213385679",imagePath:"jpg/reich.jpg",category:"Infrastructure",description:"Peter is an industrial designer and one of the founders of the original Swift Folder bicycle. His fabrication shop is located at 543 Union Street and he lives directly adjacent to the proposed staging area for the 8 million gallon retention tank facility at the north end of the canal.",layers:["manufacturingLandUse","bike","galleries","watershed"],quote:"My vision of the canal is to, as much as possible, maintain the charming post-industrial wasteland aura that makes it so attractive."},{name:"tyre",fullName:"Ed Tyre",title:"Gowanus Tenants Association",category:"Social Landscape",description:"Ed is an advocate for expanding the conversation about resiliency and sustainability in the Gowanus to include the resiliency and sustainability of the community’s people. As a community leader he calls on the city to recognize that environmental impacts are not shared equally in the area and prioritize addressing those burdens that disproportionately destroy the health and safety of low-income residents and people of color.",quote:"My vision for the future of Gowanus…is the people to get their just due and for, you know the people that live here to understand their value. We have to give people a way of expressing themselves.",layers:["youth","senior","watershed"],videoPath:"https://player.vimeo.com/video/213385647",imagePath:"jpg/tyre.jpg"},{fullName:"Michael Higgins",name:"higgins",title:"Families United for Racial and Economic Equality (FUREE) ",category:"Social Landscape",description:"Michael is a member turned organizer at FUREE. He first came to the organization through its Youth Program and is a native of the Fort Greene area of Brooklyn. He joined the Accountable Development campaign, before engaging more deeply in work around public housing. He now does organizing with FUREE members around environmental justice, civic participation and further inclusion of public housing in the greater housing justice movement in New York City.",quote:"The wealthier community that lives in the Gowanus, the people who live in brownstones, could much better understand how the distribution of public services leans towards them and how their opinions and their voice…affects how their neighbors in public housing live at a very fundamental level.",layers:["assessedValue","watershed"],videoPath:"https://player.vimeo.com/video/212482511",imagePath:"jpg/higgins.jpg"},{name:"hesselein",fullName:"Hans Hesselein",title:"Landscape Architect",category:"Infrastructure",description:"While the Gowanus Canal Conservancy’s first Executive Director, Hans developed and managed green infrastructure projects, watershed planning initiatives and volunteer stewardship programs. Hans is the founder of Apiary Studio and an adjunct professor at Philadelphia University, where he teaches two courses on the history of Landscape Architecture.",quote:"The canal needs more open green space; it needs softer, more permeable surfaces; it needs more wildlife habitat, more plant communities, and it also needs a lot of work done to the watershed in order to allow storm water to infiltrate and reduce the amount of sewage that gets dumped into the canal.",layers:["parks","watershed"],videoPath:"https://player.vimeo.com/video/213161486",imagePath:"jpg/hesselein.jpg"},{name:"martin",fullName:"Zac Martin",title:"Pastor and Community Activist",category:"Social Landscape",description:"Zac is the executive director of Trellis, an organization fitting churches with non-profits to build stronger communities together. He is also the pastor of community outreach at Trinity Grace Park Slope.",quote:"People without money often think they have nothing to offer to the community, but their simple history in being involved through many generations…what it means to grow up in this neighborhood is invaluable as new people come into the neighborhood.",layers:["demographics","nycha","watershed"],videoPath:"https://player.vimeo.com/video/212482618",imagePath:"jpg/martin.jpg"},{name:"kleinman",fullName:"Louis Kleinman",title:"Waterfront Alliance",category:"Hydrology",description:"Louis sits on the Gowanus Canal Community Advisory Group as the community liaison for the Waterfront Alliance, a non-profit advocating for resiliency, ecology, and access to the water’s edge throughout the five boroughs. A strong advocate for environmental justice and the underserved, he also finds time to volunteer with other nonprofit organizations.",quote:"The Gowanus community is facing the challenges that are very usual to all of the five boroughs in neighborhoods of lower economic means.",layers:["fema","watershed"],videoPath:"https://player.vimeo.com/video/213385655",imagePath:"jpg/kleinman.jpg"},{name:"giumenta",fullName:"Anthony Giumenta",title:"Architectural Grille",category:"Built Environment",description:"Anthony is the President and Founder of Architectural Grille located on Second Avenue. He was born and raised in the Dyker Heights and began his career working alongside his mentor and father Federico Giumenta and his two brothers Michael and Fred. After earning his degree in Architectural & Mechanical Design, Anthony formed Architectural Grille. His sons Anthony Jr. and Stephen are Vice Presidents of the company. ",quote:"Sandy really hurt us very bad, very bad. You know, I come in that Monday morning and I didn’t believe my eyes. It was a complete disaster.",layers:["manufacturingLandUse","sandy","ibz","watershed"],videoPath:"https://player.vimeo.com/video/213385636",imagePath:"jpg/giumenta.jpg"},{name:"dixon",fullName:"Sean Dixon",title:"Riverkeeper",category:"Hydrology",description:"Currently the Senior Policy Advisor to the EPA Regional Administrator in Boston, Sean is the former staff attorney at Riverkeeper, a non-profit founded by Robert Kennedy Jr. that advocates for a clean NYC watershed and a restored Hudson River.",quote:"As a river advocate my vision for the future of the Gowanus Canal is to have fishable, swimmable canal; a waterway that under the Clean Water Act has no pollution coming into it.",layers:["cso","fema","watershed"],videoPath:"https://player.vimeo.com/video/212482573",imagePath:"jpg/dixon.jpg"},{name:"franklin",fullName:"Nigel Franklin",title:"Workforce Development Specialist",category:"Social Landscape",description:"As part of the Resilient Networks initiative, Nigel is working at the Fifth Avenue Committee to set up a Gowanus network that will be positioned strategically for economic and workforce development. The FAC wants to ensure that following the community’s experience during Sandy, the organization can support the community in future disasters.",quote:"What our community needs most is structured, sincere, and very motivated representation.",layers:["slr","demographics","watershed"],videoPath:"https://player.vimeo.com/video/212482538",imagePath:"jpg/franklin.jpg"},{name:"blondel",fullName:"Karen Blondel",title:"Environmental Justice Organizer",category:"Social Landscape",description:"As public and private money flowed in after Hurricane Sandy, Karen and other local organizers launched an initiative called “Turning the Tide” to make sure that low-income public housing residents have a say in how that money is spent. A collaboration of several community organizations, its goal is to amplify the voices of low-income South Brooklyn public housing residents in implementation and policy decisions about environmental cleanup and climate adaptation.",quote:"Environmental justice says that collectively we should be at the table. There’s a difference between equality and equity, and the equity is what’s missing in the equation.",layers:["demographics","fema","watershed"],videoPath:"https://player.vimeo.com/video/212377584",imagePath:"jpg/blondel.jpg"},{name:"mcclure",fullName:"Eric McClure",title:"Park Slope Neighbors",category:"Infrastructure",description:"An advocate for the responsible design and construction of safe streets, bike paths, and sidewalks, Eric is a campaign coordinator of Park Slope Neighbors, a neighborhood organization committed to the protection and enhancement of the quality life in Park Slope. He also serves as Chair of the Brooklyn CB 6 Transportation Committee.",quote:"It’s unclear at this point whether the resources to support all this new population are really here - whether the schools can accommodate it, the transportation system can accommodate it, so I think there are a lot of challenges facing Gowanus. But at the heart of it is an opportunity with the Superfund cleanup to really make the community better.",layers:["cleanup","subway","watershed"],videoPath:"https://player.vimeo.com/video/212377535",imagePath:"jpg/mcclure.jpg"},{name:"diegel",fullName:"Eymund Diegel",title:"Environmental and Urban Planner",category:"Hydrology",description:"Eymund is an Urban Planner specialized in the mapping and analysis of changing urban, rural, and natural habitat systems. His expertise includes environmental and transportation planning, infrastructure network mapping, siting studies for new industrial facilities, polluted site cleanups, wetlands and ecosystem remediation, rapid urbanization management, and sustainable metropolitan structure planning.",quote:"One of the biggest challenges is change and the tensions that come from that change as different groups compete. Some want to stay and leave things the way they are, they know that they will be pushed out by people with more money. Other people have been here for a long time, they’ve invested in the community, they want change so that their children will want to stay here and not get the hell out.",layers:["demographics","cleanup","watershed"],videoPath:"https://player.vimeo.com/video/212377523",imagePath:"jpg/diegel.jpg"}];t.default=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),i=n(r),l=a(52),s=n(l),u=a(49),c=n(u),d=a(57),p=n(d),f=a(53),h=n(f),m=a(54),y=n(m),v=a(50),g=n(v),b=a(51),w=n(b),x=a(56),_=n(x),k=a(55),P=n(k),L=new WeakMap,j={init:function(){var e=L.get(this),t=e.leafletMap;return e.layers=[{name:"landuse",Layer:s.default},{name:"assessedValue",Layer:c.default},{name:"manufacturingLandUse",Layer:h.default},{name:"residential",Layer:y.default},{name:"commercial",Layer:g.default},{name:"zoning",Layer:p.default},{name:"demographics",Layer:w.default},{name:"youth",Layer:_.default},{name:"senior",Layer:P.default}].reduce(function(e,a){return e[a.name]=(new a.Layer).leafletMap(t).init(),e},{}),this},updateLayers:function(){var e=L.get(this),t=e.layers,a=e.selectedLayers;Object.keys(t).forEach(function(e){a.includes(e)?t[e].draw():t[e].remove()})}},M=new i.default({target:L,fields:["leafletMap","selectedLayers"]}),O=function e(){o(this,e),L.set(this,{selectedLayers:[]})};Object.assign(O.prototype,j,M),t.default=O},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.bounds,a=e.container,n=L.map(a.attr("id"),{zoomControl:!1,renderer:L.canvas(),gestureHandling:L.Browser.mobile,maxBounds:[[40.4283942895,-75.614613859],[40.9290426012,-72.3623960357]],maxZoom:17,minZoom:11}).fitBounds(t);return L.Browser.mobile||L.control.zoom({position:"bottomright"}).addTo(n),L.tileLayer("https://api.mapbox.com/styles/v1/bwellington/citvibb7y005w2io6oa24vj7f/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYndlbGxpbmd0b24iLCJhIjoiY2loNTNjazlwMTA0ZHc5bTU3cmJ3N24zMyJ9.PRgQmgfSQma6GPYEtykZ8Q",{attribution:"&copy; <a href='http://osm.org/copyright'>OpenStreetMap</a> contributors"}).addTo(n),n.on("movestart",function(){d3.selectAll(".tooltip").remove()}),n};t.default=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,r=t.bikeRacksData,i=r.features.map(function(e){var t=Object.assign({},e);return t.lat=e.geometry.coordinates[1],t.lon=e.geometry.coordinates[0],t}),l=d3.extent(i,function(e){return e.properties.total_rack}),s=d3.scaleSqrt().domain(l).range([3,8]);a.selectAll("."+n+"-layer--rack").data(i).enter().append("circle").attrs({class:n+"-layer "+n+"-layer--rack",r:0}).on("mouseover click",function(e){var t=e.properties;o.position([d3.event.x+10,d3.event.y+10]).text([["",""+t.Name],["",t.total_rack+" rack"+(1===t.total_rack?"":"s")]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().delay(function(e,t){return t}).duration(750).attr("r",function(e){return s(e.properties.total_rack)})},d=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=t.bikeRoutesData,l=r.feature(i,i.objects.bikeRoutesDissolved),s=d3.extent(l.features,function(e){return parseInt(e.properties.lanecount,10)}),u=d3.scaleLinear().domain(s).range([2.5,4.5]);a.selectAll("."+n+"-layer--route").data(l.features).enter().append("path").attrs({class:n+"-layer "+n+"-layer--route","stroke-width":0}).on("mouseover click",function(e){var t=e.properties;o.position([d3.event.x+10,d3.event.y+10]).text([["",t.street+", "+t.fromstreet+" to "+t.tostreet],["",t.lanecount+" lane"+(1===parseInt(t.lanecount,10)?"":"s")]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().duration(750).attr("stroke-width",function(e){return u(parseInt(e.properties.lanecount,10))})},p=(new l.default).addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=t.refreshMap,r=a.dataPath;this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===n?d3.json(r.bikeRoutes,function(t){d3.json(r.bikeRacks,function(a){e._.data={bikeRoutesData:t,bikeRacksData:a},d.call(e),c.call(e),o()})}):(d.call(this),c.call(this),o())}).remove(function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()});t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=t.busStopsData,l=r.feature(i,i.objects.bus_stops_nyc_may2018);console.log(l);var s=l.features.map(function(e){var t=Object.assign({},e);return t.lat=e.geometry.coordinates[1],t.lon=e.geometry.coordinates[0],t});a.selectAll("."+n+"-layer--stop").data(s).enter().append("circle").attrs({class:n+"-layer "+n+"-layer--stop",r:0}).on("mouseover click",function(e){var t=e.properties;o.position([d3.event.x+10,d3.event.y+10]).text([["Stop: ",""+t.stop_name]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().delay(function(e,t){return t}).duration(750).attr("r",5)},d=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=t.busRoutesData,l=r.feature(i,i.objects.bus_routes_nyc_may2018);a.selectAll("."+n+"-layer--route").data(l.features).enter().append("path").attrs({class:n+"-layer "+n+"-layer--route","stroke-width":0}).on("mouseover click",function(e){var t=e.properties;o.position([d3.event.x+10,d3.event.y+10]).text([["Route: ",""+t.route_long]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().duration(750).attr("stroke-width",3)},p=(new l.default).addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.data,n=t.refreshMap,o=t.dataInfo,r=o.dataPath;console.log("path",r),this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===a?d3.json(r.busRoutes,function(t){d3.json(r.busStops,function(a){e._.data={busRoutesData:t,busStopsData:a},console.log("bus data",e._.data),d.call(e),c.call(e),n()})}):(d.call(this),c.call(this),n())}).remove(function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()});t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),r=n(o),i=a(2),l=n(i),s={drawLayer:function(){var e=this.props(),t=e.group,a=e.name,n=e.data,o=e.refreshMap,r=e.tooltip,i=["1","2","3a","3b"].map(function(e){var t={1:"#cc8500",2:"#ffb833","3a":"#ffc966","3b":"#ffdb99"};return{stage:e,features:n.features.filter(function(t){return t.properties.stage===e}),color:t[e]}});t.selectAll("."+a).data(i).enter().append("g").attrs({class:a+"Layer",opacity:0}).each(function(e){var t=e.features.filter(function(e){return"canal"===e.properties.type}),n=e.features.filter(function(e){return"parcel"===e.properties.type});d3.select(this).selectAll(a+"-canal").data(t).enter().append("path").attrs({class:a+" "+a+"-canal",fill:e.color,stroke:e.color,"stroke-width":2,"fill-opacity":.5,opacity:1,cursor:"pointer"}).on("mouseover click",function(e){var t=[["Cleanup Stage: ",e.properties.stage]];r.position([d3.event.x+10,d3.event.y+10]).text(t).draw(),d3.select(this).transition().duration(150).attrs({"fill-opacity":1}),d3.selectAll("."+a+"-parcel__"+e.properties.stage).transition().duration(150).attrs({"stroke-width":1.5})}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(e){r.remove(),d3.select(this).transition().duration(250).attrs({"fill-opacity":.5}),d3.selectAll("."+a+"-parcel__"+e.properties.stage).transition().duration(250).attrs({"stroke-width":.75})}),d3.select(this).selectAll(a+"-parcel").data(n).enter().append("path").attrs({class:a+" "+a+"-parcel "+a+"-parcel__"+e.stage,fill:"none",stroke:e.color,"stroke-width":.75,opacity:.75,"stroke-dasharray":"3,2"})}).transition().duration(750).ease(d3.easeQuadInOut).delay(function(e,t){return 750*t}).attrs({opacity:1}),o()}},u=(new r.default).type("Polygon").render("Vector").addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=a.dataPath;this._.tooltip=(new l.default).selection(d3.select("#map")),void 0===n?d3.json(o,function(t){e._.data=t,s.drawLayer.call(e)}):s.drawLayer.call(this)});u.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a).remove()},t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=(new l.default).addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=t.refreshMap,r=a.dataPath;this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===n?d3.json(r.csoOutfall,function(t){d3.json(r.csoArea,function(a){e._.data={csoOutfall:t,csoArea:a},e.drawCsoArea(),e.drawCsoOutfall(),o()})}):(this.drawCsoArea(),this.drawCsoOutfall(),o())});c.toggleActive=function(e,t){var a=this.props(),n=a.name,o=a.group;o.selectAll("."+n+"-layer--"+e).classed(n+"-layer--active",t),o.selectAll("."+n+"-layer-circle--"+e).classed(n+"-layer-circle--active",t)},c.drawCsoOutfall=function(){var e=this,t=this.props(),a=t.data,n=t.group,o=t.name,r=t.tooltip,i=d3.extent(a.csoOutfall.features.filter(function(e){return null!==e}),function(e){return e.properties.volume_16}),l=d3.scaleSqrt().domain(i).range([5,40]),s=a.csoOutfall.features.map(function(e){var t=Object.assign({},e);return t.lat=e.geometry.coordinates[1],t.lon=e.geometry.coordinates[0],t});n.selectAll("."+o+"-layer-circle").data(s.filter(function(e){return null!==e.properties.volume_16})).enter().append("circle").attrs({r:0,class:function(e){var t=o+"-layer-circle "+o+"-layer-circle--"+e.properties.outfall_id;return null===e.properties.volume_16?t+" "+t+"--null":t}}).on("mouseover click",function(t){e.toggleActive(t.properties.outfall_id,!0),null===t.properties.volume_16?r.position([d3.event.x+10,d3.event.y+10]).text([["","No Data"]]).draw():r.position([d3.event.x+10,d3.event.y+10]).text([["CSO Volume (2016): ",t.properties.volume_16+" (millions of gallons)"]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(t){e.toggleActive(t.properties.outfall_id,!1),r.remove()}).transition().duration(500).delay(function(e,t){return 75*t}).attr("r",function(e){return null!==e.properties.volume_16?l(e.properties.volume_16):5})},c.drawCsoArea=function(){var e=this,t=this.props(),a=t.data,n=t.group,o=t.name,i=t.tooltip,l=r.feature(a.csoArea,a.csoArea.objects.cso);n.selectAll("."+o+"-layer").data(l.features).enter().append("path").attrs({class:function(e){return o+"-layer "+o+"-layer--"+e.properties.outfall},opacity:0}).on("mouseover click",function(t){e.toggleActive(t.properties.outfall,!0),i.position([d3.event.x+10,d3.event.y+10]).text([["Stormwater Runoff in 1 Inch Storm: ",t.properties.stormwat_1+" (millions of gallons)"],["Outfall: ",t.properties.outfall],["Water Usage: ",t.properties.water_use+" (gallons per day)"],["Population: ",t.properties.population]]).draw()}).on("mousemove",function(){i.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(t){e.toggleActive(t.properties.outfall,!1),i.remove()}).transition().duration(500).attrs({opacity:.8})},c.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove(),t.selectAll("."+a+"-layer-circle").remove()},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip,i=o.feature(t,t.objects.s_fld_haz_ar);a.selectAll("."+n+"-layer").data(i.features.filter(function(e){return"X"!==e.properties.FLD_ZONE})).enter().append("path").attrs({class:n+"-layer"}).on("mouseover click",function(e){var t=e.properties;r.position([d3.event.x+10,d3.event.y+10]).text([["Flood Zone: ",t.FLD_ZONE]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){r.remove()})},t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),r=n(o),i=a(2),l=n(i),s=(new r.default).type("Point").render("Vector").addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=a.dataPath;this._.tooltip=(new l.default).selection(d3.select("#map")),void 0===n?d3.json(o,function(t){e._.data=t,e.drawLayer()}):this.drawLayer()});s.drawLayer=function(){var e=this.props(),t=e.data,a=e.name,n=e.group,o=e.refreshMap,r=e.tooltip,i=t.features.map(function(e){var t=Object.assign({},e);return t.lat=e.geometry.coordinates[1],t.lon=e.geometry.coordinates[0],t});n.selectAll("."+a+"-layer").data(i).enter().append("circle").attrs({class:a+"-layer",r:5}).style("opacity",0).on("mouseover click",function(e){r.position([d3.event.x+10,d3.event.y+10]).text([["Name: ",e.properties.name]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){r.remove()}).transition().duration(500).style("opacity",1),o()},s.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip,i=o.feature(t,t.objects.hurricanezones),l=d3.extent(i.features.filter(function(e){return"X"!==e.properties.hurricane}),function(e){return parseInt(e.properties.hurricane,10)}),s=d3.scaleLinear().domain(l).range([d3.color("#cc8500"),d3.color("#ffdb99")]),u=i.features.filter(function(e){return"X"!==e.properties.hurricane});a.selectAll("."+n+"-layer").data(u).enter().append("path").sort(function(e,t){return parseInt(e.properties.hurricane,10)-parseInt(t.properties.hurricane,10)}).attrs({class:n+"-layer",fill:function(e){return s(parseInt(e.properties.hurricane,10))},stroke:"white",cursor:"pointer","fill-opacity":.5,"stroke-width":1,opacity:0}).style("pointer-events","none").on("mouseover click",function(e){d3.select(this).transition().duration(150).attrs({"fill-opacity":1,"stroke-width":2.5}),r.position([d3.event.x+10,d3.event.y+10]).text([["Evacuation Zone: ",e.properties.hurricane]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){d3.select(this).transition().duration(150).attrs({"fill-opacity":.5,"stroke-width":1}),r.remove()}).transition().duration(500).ease(d3.easeQuadInOut).delay(function(e,t){return 500*t}).attrs({opacity:1}).on("end",function(e,t){t===u.length-1&&d3.selectAll("."+n+"-layer").style("pointer-events","auto")})},t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(2),l=n(i),s=a(1),u=n(s),c=a(4),d=!1,p=(new u.default).addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=t.refreshMap,r=a.dataPath;this._.tooltip=(new l.default).selection(d3.select("#map")),void 0===n?d3.json(r.hWater,function(t){d3.json(r.hWetlands,function(a){e._.data={hWater:t,hWetlands:a},e.drawLayer(),o()})}):(this.drawLayer(),o())}).remove(function(){c.removeLayer.call(this),d=!1}),f=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=e.refreshMap;if(d){var l=t.hWetlands,s=r.feature(l,l.objects.hwetlands).features;a.selectAll("."+n+"-layer--hwetlands").data(s).enter().append("path").attrs({class:n+"-layer "+n+"-layer--hwetlands",opacity:0}).style("pointer-events","none").on("mouseover click",function(){o.position([d3.event.x+10,d3.event.y+10]).text([["","Historic Wetlands"]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().duration(750).attr("opacity",1).on("end",function(){d3.selectAll("."+n+"-layer--hwater").raise(),d3.selectAll("."+n+"-layer").style("pointer-events","auto"),d=!1}),i()}},h=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=t.hWater;a.selectAll("."+n+"-layer--hwater").data(r.feature(i,i.objects.hwater).features).enter().append("path").attrs({class:n+"-layer "+n+"-layer--hwater",opacity:0}).style("pointer-events","none").on("mouseover click",function(){o.position([d3.event.x+10,d3.event.y+10]).text([["","Historic Water"]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().duration(750).attr("opacity",1).on("end",f.bind(this))};p.drawLayer=function(){d=!0,h.call(this)},t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(o),a(1)),i=n(r),l=a(2),s=n(l),u=(new i.default).type("Polygon").render("Vector").addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=a.dataPath;this._.tooltip=(new s.default).selection(d3.select("#map")),void 0===n?d3.json(o,function(t){e._.data=t,e.drawLayer()}):this.drawLayer()});u.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.refreshMap,o=e.name,r=e.tooltip;a.append("path").datum(t).attrs({class:o+"-layer",opacity:0}).on("mouseover click",function(){r.position([d3.event.x+10,d3.event.y+10]).text([["","Southwest Brooklyn Industrial Business Zone"]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){r.remove()}).transition().duration(500).attrs({opacity:.8}),n()},u.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip;a.selectAll("."+n+"-layer").data(o.feature(t,t.objects.nycha).features).enter().append("path").attrs({class:n+"-layer"}).on("mouseover click",function(e){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!0),r.position([d3.event.x+10,d3.event.y+10]).text([["Development Name: ",e.properties.developmen]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!1),r.remove()})},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip,i=o.feature(t,t.objects.parks);a.selectAll("."+n+"-layer").data(i.features).enter().append("path").attr("class",n+"-layer").on("mouseover click",function(e){var t=e.properties;r.position([d3.event.x+10,d3.event.y+10]).text([["Park Type: ",t.landuse],["Park Name: ",t.park_name]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){r.remove()})},t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=(new l.default).type("Polygon").render("Vector").addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=a.dataPath;this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===n?d3.json(o,function(t){e._.data=t,e.drawLayer()}):this.drawLayer()});c.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.refreshMap,o=e.name,i=e.tooltip,l=r.feature(t,t.objects.rezoning);a.append("path").datum(l).attrs({class:o+"-layer",opacity:0}).on("mouseover click",function(){i.position([d3.event.x+10,d3.event.y+10]).text([["","Approximate Bounds of Rezoning"]]).draw()}).on("mousemove",function(){i.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){i.remove()}).transition().duration(500).attrs({opacity:.8}),n()},c.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip;a.selectAll("."+n+"-layer").data(o.feature(t,t.objects.police).features).enter().append("path").attrs({class:n+"-layer"}).on("mouseover click",function(e){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!0),r.position([d3.event.x+10,d3.event.y+10]).text([["Precinct: ",e.properties.precinct]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!1),r.remove()})},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip;console.log("sandy",t),a.selectAll("."+n+"-layer").data(o.feature(t,t.objects.sandyinundation).features).enter().append("path").attrs({class:n+"-layer"}).on("mouseover click",function(){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!0),r.position([d3.event.x+10,d3.event.y+10]).text([["","Hurricane Sandy Inundation"]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!1),r.remove()})},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(n),r=a(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(4),s=(new i.default).addPropMethods(["dataInfo"]).draw(l.loadData).remove(l.removeLayer);s.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,r=e.tooltip;a.selectAll("."+n+"-layer").data(o.feature(t,t.objects.school).features).enter().append("path").attrs({class:n+"-layer"}).on("mouseover click",function(e){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!0),r.position([d3.event.x+10,d3.event.y+10]).text([["District: ",e.properties.school_dist]]).draw()}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){d3.selectAll("."+n+"-layer").classed(n+"-layer--selected",!1),r.remove()})},t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=(new l.default).type("Polygon").render("Vector").addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=a.dataPath;if(this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===n){var i=d3.queue();o.forEach(function(e){i.defer(d3.json,e)});var l={"75in_clip":{year:"2100s",level:'75"'},"58in_clip":{year:"2080s",level:'58"'},"30in_clip":{year:"2050s",level:'30"'},"10in_clip":{year:"2020s",level:'10"'}};i.awaitAll(function(t,a){var n=a.map(function(e){var t=Object.keys(e.objects)[0],a=r.feature(e,e.objects[t]);return a.layerProps=l[t],a});e.data(n),e.drawLayers()})}else this.drawLayers()});c.drawLayers=function(){var e=this.props(),t=e.group,a=e.name,n=e.data,o=e.refreshMap,r=e.tooltip;t.selectAll("."+a).data(n).enter().append("g").attrs({class:function(e,t){return a+" "+a+t},opacity:0}).each(function(e,t){d3.select(this).selectAll("."+a+"Layer").data(e.features).enter().append("path").attrs({class:a+"Layer"+t,fill:"rgb(173,216,230)","fill-opacity":.3,cursor:"pointer"}).on("mouseover click",function(){r.position([d3.event.x+10,d3.event.y+10]).text([["Level: ",e.layerProps.level],["Year: ",e.layerProps.year]]).draw(),d3.selectAll("."+a+"Layer"+t).transition().duration(150).attrs({"fill-opacity":1})}).on("mouseout",function(){r.remove(),d3.selectAll("."+a+"Layer"+t).transition().duration(250).attrs({"fill-opacity":.3})}).on("mousemove",function(){r.position([d3.event.x+10,d3.event.y+10]).update()})}).transition().duration(500).ease(d3.easeQuadInOut).delay(function(e,t){return 500*(n.length-t-1)}).attrs({opacity:1}),o()},c.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a).remove()},t.default=c},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=t.subwayStationsData,l=r.feature(i,i.objects.subwaystations);console.log(l);var s=l.features.map(function(e){var t=Object.assign({},e);return t.lat=e.geometry.coordinates[1],t.lon=e.geometry.coordinates[0],t});a.selectAll("."+n+"-layer--station").data(s).enter().append("circle").attrs({class:n+"-layer "+n+"-layer--station",r:0}).on("mouseover click",function(e){var t=e.properties;console.log("station",e),o.position([d3.event.x+10,d3.event.y+10]).text([["Station: ",""+t.name],["Line: ",""+t.line]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().delay(function(e,t){return t}).duration(750).attr("r",5)},d=function(){var e=this.props(),t=e.data,a=e.group,n=e.name,o=e.tooltip,i=t.subwayLinesData,l=r.feature(i,i.objects.subwaylines);a.selectAll("."+n+"-layer--line").data(l.features).enter().append("path").attrs({class:n+"-layer "+n+"-layer--line","stroke-width":0}).on("mouseover click",function(e){var t=e.properties;o.position([d3.event.x+10,d3.event.y+10]).text([["Line: ",""+t.name]]).draw()}).on("mousemove",function(){o.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){o.remove()}).transition().duration(750).attr("stroke-width",3)},p=(new l.default).addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.data,n=t.refreshMap,o=t.dataInfo,r=o.dataPath;this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===a?d3.json(r.subwayLines,function(t){d3.json(r.subwayStations,function(a){e._.data={subwayLinesData:t,subwayStationsData:a},d.call(e),c.call(e),n()})}):(d.call(this),c.call(this),n())}).remove(function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()});t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(o),i=a(1),l=n(i),s=a(2),u=n(s),c=(new l.default).type("Polygon").render("Vector").addPropMethods(["dataInfo"]).draw(function(){var e=this,t=this.props(),a=t.dataInfo,n=t.data,o=a.dataPath;this._.tooltip=(new u.default).selection(d3.select("#map")),void 0===n?d3.json(o,function(t){e._.data=t,e.drawLayer()}):this.drawLayer()});c.drawLayer=function(){var e=this.props(),t=e.data,a=e.group,n=e.refreshMap,o=e.name,i=e.tooltip,l=r.feature(t,t.objects.watershedsketch);a.selectAll("."+o+"-layer").data(l.features).enter().append("path").attrs({class:o+"-layer",opacity:0}).on("mouseover click",function(){i.position([d3.event.x+10,d3.event.y+10]).text([["","Gowanus Canal Watershed"]]).draw()}).on("mousemove",function(){i.position([d3.event.x+10,d3.event.y+10]).update()}).on("mouseout",function(){i.remove()}).transition().duration(500).attrs({opacity:.8}),n()},c.remove=function(){var e=this.props(),t=e.group,a=e.name;t.selectAll("."+a+"-layer").remove()},t.default=c},function(e,t,a){"use strict";!function(){var e=document.getElementById("sidebar-content"),t=document.getElementById("map");new MutationObserver(function(a,n){"sidebar"===e.getAttribute("class")?t.classList.add("content-shown"):t.classList.remove("content-shown")}).observe(e,{attributes:!0,childList:!1,subtree:!1,attributeFilter:["class"]})}(),function(){var e=document.getElementById("sidebar-content");new MutationObserver(function(){$("body").popup("hide all")}).observe(e,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}(),function(){var e=document.getElementById("quote"),t=document.getElementById("legend");new MutationObserver(function(a,n){"quote"===e.getAttribute("class")?t.classList.add("content-shown"):t.classList.remove("content-shown")}).observe(e,{attributes:!0,childList:!1,subtree:!1})}()},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=new WeakMap,l={toggleVisibility:function(){var e=this,t=i.get(this),a=t.container,n=t.selectedInterview,o=l.clearInterview;if(void 0!==a){var r=function(){a.classed("sidebar--hidden",void 0===n),void 0===n&&o.call(e)};void 0===n?a.transition().duration(500).style("opacity",0).on("end",r):a.transition().duration(500).style("opacity",1).on("end",r)}},clearInterview:function(){var e=i.get(this),t=e.contentContainer;void 0!==t&&t.remove()},drawInterview:function(){var e=i.get(this),t=e.container,a=e.onCloseClick,n=e.selectedInterview,o=e.mapLayers,r=l.drawLayerButtons;l.clearInterview.call(this),e.contentContainer=t.append("div").attr("class","sidebar__content-container");var s=e.contentContainer,u=s.append("div").attr("class","sidebar__header"),c=u.append("span").attr("class","sidebar__close-button-row").append("span").attr("class","sidebar__close-button");c.append("span").attr("class","sidebar__close-button-icon").html('<i class="window close outline icon"></i>'),c.on("click",a).on("mouseover",function(){d3.select(this).select(".sidebar__close-button-icon").html('<i class="window close icon"></i>')}).on("mouseout",function(){d3.select(this).select(".sidebar__close-button-icon").html('<i class="window close outline icon"></i>')}),u.append("span").text(n.fullName+", "+n.title),s.append("div").attr("class","sidebar__section sidebar__video").html('<iframe src="'+n.videoPath+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),s.append("div").attr("class","sidebar__section sidebar__interview-description").text(n.description),s.append("div").attr("class","sidebar__section  sidebar__header").text("Map Layers"),e.layers=n.layers.map(function(e){return o.find(function(t){return t.name===e})}),e.buttonContainer=s.append("div").attr("class","sidebar__button-container"),r.call(this),e.menuLayers=s.selectAll(".sidebar__map-layer")},drawLayerButtons:function(){var e=i.get(this),t=e.buttonContainer,a=e.layers,n=e.onLayerClick;t.selectAll(".sidebar__map-layer").data(a).enter().append("div").on("click",function(e){n(e.name)}).attr("class","sidebar__map-layer").text(function(e){return e.fullName})},setLayerColors:function(){var e=i.get(this),t=e.menuLayers,a=e.selectedLayers;void 0!==t&&void 0!==a&&t.classed("sidebar__map-layer--active",function(e){return a.includes(e.name)})}},s={init:function(){return this.updateInterview(),this.updateLayers(),this},updateLayers:function(){var e=i.get(this),t=e.selectedInterview,a=l.setLayerColors;void 0!==t&&a.call(this)},updateInterview:function(){var e=i.get(this),t=e.selectedInterview,a=l.drawInterview,n=l.setLayerColors,o=l.toggleVisibility;void 0===t?o.call(this):(a.call(this),n.call(this),o.call(this))}},u=new r.default({target:i,fields:["container","mapLayers","onLayerClick","onCloseClick","selectedInterview","selectedLayers"]}),c=function e(){n(this,e),i.set(this,{})};Object.assign(c.prototype,s,u),t.default=c},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=new WeakMap,s={setSelections:function(){var e=l.get(this);e.container=d3.select(".quote"),e.title=d3.select(".quote__text"),e.name=d3.select(".quote__attribution")}},u=new i.default({target:l,fields:["selectedInterview"]}),c=function(){function e(){n(this,e),l.set(this,{})}return o(e,[{key:"init",value:function(){return s.setSelections.call(this),this.update(),this}},{key:"update",value:function(){var e=l.get(this),t=e.title,a=e.name,n=e.container,o=e.selectedInterview;void 0!==o&&(t.text('"'+o.quote+'"'),a.text("—"+o.fullName)),n.classed("quote--hidden",void 0===o)}}]),e}();Object.assign(c.prototype,u),t.default=c},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=new WeakMap,s={initPopups:function(){var e=s.initStoriesPopup,t=s.initAllDataPopup;e.call(this),t.call(this)},initStoriesPopup:function(){var e=this,t=l.get(this),a=t.interviews,n=t.interviewCategories,o=t.onInterviewClick,r=s.setInterviewColors;$(".top-menu__item--stories").popup({on:L.Browser.mobile?"click":"hover",html:'\n          <div class="top-menu__content top-menu__content--stories">\n          </div>\n        ',hoverable:!0,variation:"basic",position:"bottom center",lastResort:"bottom center",target:".top-menu__buttons",onCreate:function(){t.storiesContainer=d3.select(".top-menu__content--stories"),t.storiesContainer.selectAll(".top-menu__interview-category").data(n).enter().append("div").attr("class","top-menu__interview-category").each(function(e){var t=d3.select(this);t.append("div").attr("class","top-menu__category-header top-menu__header").text(e).append("hr").attr("class","top-menu__category-hr");var n=t.append("div").attr("class","top-menu__category-row"),r=n.selectAll(".top-menu__interview").data(a.filter(function(t){return t.category===e})).enter().append("div").attr("class","top-menu__interview");r.append("div").attr("class","top-menu__headshot-container").append("img").attrs({src:function(e){return e.imagePath},class:"top-menu__interview-headshot"});var i=r.append("div").attr("class","top-menu__person-info");i.append("div").attr("class","top-menu__person-name").text(function(e){return e.fullName}),i.append("div").attr("class","top-menu__person-title").text(function(e){return e.title}),r.on("click",o)}),t.interviewBlocks=t.storiesContainer.selectAll(".top-menu__interview"),r.call(e)}})},setInterviewColors:function(){var e=l.get(this),t=e.selectedInterview,a=e.interviewBlocks;void 0!==a&&(void 0===t?a.classed("top-menu__interview--active",!1):a.classed("top-menu__interview--active",function(e){return e.name===t.name}))},setLayerColors:function(){var e=l.get(this),t=e.menuLayers,a=e.selectedLayers,n=e.mapLayers;void 0!==t&&void 0!==a&&(t.classed("top-menu__map-layer--active",function(e){return a.includes(e.name)}),t.classed("top-menu__map-layer--disabled",function(e){return void 0!==a&&a.map(function(e){return n.find(function(t){return t.name===e})}).filter(function(t){return t.exclude.includes(e.name)}).length>0}))},drawLayerButtons:function(e){var t=e.layers,a=e.buttonContainer,n=l.get(this),o=n.onLayerClick;a.selectAll(".top-menu__map-layer").data(t).enter().append("div").on("click",function(e){o(e.name)}).attr("class","top-menu__map-layer").text(function(e){return e.fullName})},setClearButtonVisibility:function(){var e=l.get(this),t=e.clearButton,a=e.selectedLayers;void 0!==t&&t.classed("top-menu__clear-button--hidden",0===a.length)},initAllDataPopup:function(){var e=this,t=l.get(this),a=t.mapLayers,n=t.onClearClick,r=s.drawLayerButtons,i=s.setLayerColors,u=s.setClearButtonVisibility,c=r.bind(this),d=[].concat(o(new Set(a.map(function(e){return e.category}))));$(".top-menu__item--all").popup({on:L.Browser.mobile?"click":"hover",html:'\n          <div class="top-menu__content top-menu__content--all">\n          </div>\n        ',hoverable:!0,variation:"basic",position:"bottom center",lastResort:"bottom center",target:".top-menu__buttons",onCreate:function(){t.mapLayersContainer=d3.select(".top-menu__content--all"),t.clearButton=t.mapLayersContainer.append("div").attr("class","top-menu__clear-button-row").append("div").attr("class","top-menu__clear-button top-menu__clear-button--hidden").text("Clear all layers").on("click",n);var o=t.mapLayersContainer.selectAll(".top-menu__button-row").data(d).enter().append("div").attr("class","top-menu__button-row");o.append("div").attr("class","top-menu__row-title").text(function(e){return e}),o.append("div").attr("class","top-menu__button-container").each(function(e){c({layers:a.filter(function(t){return t.category===e}),buttonContainer:d3.select(this)})}),t.menuLayers=t.mapLayersContainer.selectAll(".top-menu__map-layer"),u.call(e),i.call(e)}})},initModal:function(){var e=l.get(this),t=e.container,a=s.openModal,n=s.closeModal;t.select(".top-menu__item--about").on("click",a.bind(this)),d3.select(".about__explore-button").on("click",n.bind(this))},openModal:function(){$(".ui.modal").modal("show")},closeModal:function(){$(".ui.modal").modal("hide")},setInterviewCategories:function(){var e=l.get(this),t=e.interviews;e.interviewCategories=[].concat(o(new Set(t.map(function(e){return e.category}))))}},u={init:function(){var e=s.initPopups,t=s.initModal;return s.setInterviewCategories.call(this),e.call(this),t.call(this),this},updateInterview:function(){s.setInterviewColors.call(this)},updateLayers:function(){var e=s.setLayerColors,t=s.setClearButtonVisibility;e.call(this),t.call(this)}},c=new i.default({target:l,fields:["container","interviews","mapLayers","onClearClick","onInterviewClick","onLayerClick","selectedInterview","selectedLayers"]}),d=function e(){n(this,e),l.set(this,{})};Object.assign(d.prototype,u,c),t.default=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(7),s=n(l),u=a(59),c=n(u),d=new s.default(["map","overlayPane","canvas","svg","svgGroup","svgPadding","vectorLayers","geo","boundShape","coordinateBounds","rasterLayers","selectedLayers"]);d.setDefaultValues({vectorLayers:[],rasterLayers:[],selectedLayers:"all",svgPadding:0});var p=function(){function e(){r(this,e),d.addTo(this)}return i(e,[{key:"draw",value:function(e){var t=this,a=e.group,n=e.layers,o=e.map,r=this.props(),i=r.geo,l=r.overlayPane,s=r.svg;n.length>0&&n.forEach(function(e){e.geo(i).pane(l).map(o).refreshMap(t.update.bind(t)).svg(s).group(a),t.drawIfSelected(e)})}},{key:"drawIfSelected",value:function(e){var t=this.props(),a=t.selectedLayers;("all"===a||a.includes(e.name()))&&e.draw()}},{key:"updateSelectedLayers",value:function(e){var t=this.props(),a=t.selectedLayers,n=t.vectorLayers;e.forEach(function(e){a.includes(e)||n.filter(function(t){return t.name()===e})[0].draw()}),a.forEach(function(t){e.includes(t)||n.filter(function(e){return e.name()===t})[0].remove()}),this.update(),this.selectedLayers(e)}},{key:"drawBaseLayers",value:function(){var e=this.props(),t=e.map;this._.overlayPane=d3.select(t.getPanes().overlayPane),this._.svg=this.overlayPane().append("svg").attr("class","d3-svg-overlay"),this._.svgGroup=this.svg().append("g").attr("class","leaflet-zoom-hide d3-vector-overlay d3-vector-overlay--path")}},{key:"addVectorLayer",value:function(e){return this._.vectorLayers.push(e),this}},{key:"addRasterLayer",value:function(e){return this._.rasterLayers.push(e),this}},{key:"getLayerNames",value:function(){var e=this.props(),t=e.vectorLayers,a=e.rasterLayers;return[].concat(o(t.map(function(e){return e.name()})),o(a.map(function(e){return e.name()})))}},{key:"addTo",value:function(e){this.map(e),this.drawBaseLayers(),this.geo((new c.default).map(this.map()).setTransformAndPath());var t=this.props(),a=t.svgGroup,n=t.vectorLayers;return this.draw({group:a,layers:n,map:e}),this.update(),this.syncWithBasemap(),this}},{key:"syncWithBasemap",value:function(){var e=this,t=this.props(),a=t.map;a.on("zoomstart",function(){return e.hide()}),a.on("zoomend",function(){return e.show()}),a.on("moveend",function(){return e.update()})}},{key:"hide",value:function(){this.props().overlayPane.style("opacity",0)}},{key:"show",value:function(){this.props().overlayPane.style("opacity",1)}},{key:"getBounds",value:function(){var e=this.props(),t=e.boundShape,a=e.coordinateBounds,n=e.map,o=e.svgPadding;if(void 0!==t)return c.default.vectorPath().bounds(t);if(void 0!==a){var r=a.map(function(e,t){return 0===t?[e[0]+o,e[1]-o]:[e[0]-o,e[1]+o]});return[[n.latLngToLayerPoint(r[0]).x,n.latLngToLayerPoint(r[0]).y],[n.latLngToLayerPoint(r[1]).x,n.latLngToLayerPoint(r[1]).y]]}return[[n.latLngToLayerPoint([90,-180]).x,n.latLngToLayerPoint([90,-180]).y],[n.latLngToLayerPoint([-90,180]).x,n.latLngToLayerPoint([-90,180]).y]]}},{key:"repositionSVG",value:function(e){var t=e.topLeft,a=e.bottomRight;this.props().svg.attrs({width:a[0]-t[0]+"px",height:a[1]-t[1]+"px"}).styles({left:t[0]+"px",top:t[1]+"px"})}},{key:"updateMapFeatures",value:function(){var e=this.props(),t=e.svgGroup,a=e.map,n=e.geo;t.selectAll("path").attr("d",n.vectorPath()),t.selectAll("circle").attrs({cx:function(e){return a.latLngToLayerPoint(e).x},cy:function(e){return a.latLngToLayerPoint(e).y}}),t.selectAll("text").attrs({x:function(e){return a.latLngToLayerPoint(e).x+5},y:function(e){return a.latLngToLayerPoint(e).y-5}}),t.selectAll("image").attrs({x:function(e){return a.latLngToLayerPoint(e).x-10},y:function(e){return a.latLngToLayerPoint(e).y-10}})}},{key:"update",value:function(){var e=this.props(),t=e.svgGroup;d3.selectAll(".tooltip").remove();var a=this.getBounds(),n=a[0],o=a[1];this.repositionSVG({topLeft:n,bottomRight:o}),t.attr("transform","translate("+-n[0]+","+-n[1]+")"),this.updateMapFeatures()}}]),e}();t.default=p},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=new WeakMap,s=function(){function e(t){var a=this;n(this,e);var o=new i.default({target:l,fields:Object.keys(t)}),r=Object.assign({},t,{callbacks:{},fields:Object.keys(t)});l.set(this,r),o.addTo(this),Object.keys(t).forEach(function(e){l.get(a).callbacks[e]=[]})}return o(e,[{key:"registerCallback",value:function(e){var t=l.get(this),a=t.callbacks;return Object.keys(e).forEach(function(t){a[t].push(e[t])}),this}},{key:"update",value:function(e){var t=this,a=l.get(this),n=a.callbacks,o=Object.keys(e);return o.forEach(function(a){return t[a](e[a])}),o.forEach(function(e){n[e].length>0&&n[e].forEach(function(e){return e.call(t)})}),this}},{key:"props",value:function(){var e=this;return l.get(this).fields.reduce(function(t,a){var n=Object.assign({},t);return n[a]=l.get(e)[a],n},{})}}]),e}();t.default=s},function(e,t,a){var n=a(60);"string"==typeof n&&(n=[[e.i,n,""]]);var o={};o.transform=void 0;a(12)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(61);"string"==typeof n&&(n=[[e.i,n,""]]);var o={};o.transform=void 0;a(12)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var r=a(44),i=n(r),l=a(45),s=n(l),u=a(21),c=n(u),d=a(41),p=n(d),f=a(42),h=n(f),m=a(43),y=n(m),v=a(18),g=n(v),b=a(19),w=n(b),x=a(6),_=a(37),k=n(_),P=a(24),L=n(P),j=a(39),M=n(j),O=a(27),A=n(O),C=a(22),E=n(C),z=a(23),T=n(z),B=a(26),I=n(B),S=a(32),N=n(S),R=a(28),D=n(R),U=a(35),W=n(U),q=a(29),H=n(q),G=a(38),V=n(G),F=a(31),Y=n(F),Z=a(36),J=n(Z),K=a(34),Q=n(K),X=a(30),$=n(X);a(40);var ee=a(33),te=n(ee),ae=a(25),ne=n(ae),oe=a(17),re=n(oe),ie=a(20),le=n(ie);a(46),a(47),["png/tabs-01.png","png/tabs-02.png","png/tabs-03.png","png/tabs-04.png"].forEach(function(e){(new Image).src=e});var se=g.default.mapContainer,ue=re.default.svgBounds,ce=re.default.mapBounds,de=new s.default({view:"storiesList",tab:"stories",dataLoaded:[],selectedLayers:["watershed"],selectedInterview:void 0,size:g.default.getMapSize()}),pe=(0,c.default)({bounds:ce,container:se}),fe=(new le.default).leafletMap(pe).init(),he=function(e){var t=e.layer,a=e.dataName,n=x.mapDatasetList.find(function(e){return e.name===a});t.name(n.name).dataInfo(n)};he({layer:ne.default,dataName:"cso"}),he({layer:te.default,dataName:"plutoBounds"}),he({layer:M.default,dataName:"watershed"}),he({layer:k.default,dataName:"slr"}),he({layer:L.default,dataName:"cleanup"}),he({layer:A.default,dataName:"galleries"}),he({layer:E.default,dataName:"bike"}),he({layer:V.default,dataName:"subway"}),he({layer:Y.default,dataName:"nycha"}),he({layer:J.default,dataName:"school"}),he({layer:Q.default,dataName:"police"}),he({layer:T.default,dataName:"bus"}),he({layer:I.default,dataName:"fema"}),he({layer:N.default,dataName:"parks"}),he({layer:D.default,dataName:"hurricane"}),he({layer:W.default,dataName:"sandy"}),he({layer:H.default,dataName:"hwater"}),he({layer:$.default,dataName:"ibz"});var me=(new i.default).coordinateBounds(ue).addVectorLayer(ne.default).addVectorLayer(te.default).addVectorLayer(M.default).addVectorLayer(k.default).addVectorLayer(L.default).addVectorLayer(A.default).addVectorLayer(E.default).addVectorLayer(V.default).addVectorLayer(T.default).addVectorLayer(I.default).addVectorLayer(N.default).addVectorLayer(D.default).addVectorLayer(W.default).addVectorLayer(H.default).addVectorLayer(Y.default).addVectorLayer(Q.default).addVectorLayer(J.default).addVectorLayer($.default).selectedLayers(de.selectedLayers()).addTo(pe),ye=function(e){var t=de.selectedLayers(),a=void 0;if(t.includes(e)){var n=t.indexOf(e);a=[].concat(o(t.slice(0,n)),o(t.slice(n+1)))}else{var r=x.mapDatasetList.find(function(t){return t.name===e}).exclude;a=r.length>0?t.filter(function(e){return!r.includes(e)}).concat(e):[].concat(o(t),[e])}de.update({selectedLayers:a})},ve=(new p.default).container(d3.select(".sidebar")).onLayerClick(ye).onCloseClick(function(){return de.update({selectedInterview:void 0})}).selectedLayers(de.selectedLayers()).mapLayers(x.mapDatasetList).init(),ge=(new y.default).container(d3.select(".top-menu")).interviews(w.default).mapLayers(x.mapDatasetList).selectedLayers(de.selectedLayers()).onLayerClick(ye).onClearClick(function(){return de.update({selectedLayers:[]})}).onInterviewClick(function(e){var t=de.selectedInterview(),a=void 0===t?"":t.name;e.name===a?de.update({selectedInterview:void 0}):de.update({selectedInterview:e})}).init(),be=(new h.default).init();de.registerCallback({view:function(){},selectedInterview:function(){var e=this.props(),t=e.selectedInterview;ge.selectedInterview(t).updateInterview(),ve.selectedInterview(t).updateInterview(),be.selectedInterview(t).update(),void 0!==t&&de.update({selectedLayers:t.layers})},selectedLayers:function(){var e=this.props(),t=e.selectedLayers,a=t.filter(function(e){return"leaflet"===x.mapDatasetList.find(function(t){return t.name===e}).render}),n=t.filter(function(e){return"d3"===x.mapDatasetList.find(function(t){return t.name===e}).render});fe.selectedLayers(a).updateLayers(),me.updateSelectedLayers(n),ge.selectedLayers(t).updateLayers(),ve.selectedLayers(t).updateLayers()}})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(r),l=a(3),s=n(l),u=a(5),c=n(u),d=a(10),p=n(d),f=new WeakMap,h=d3.format(",d"),m=new s.default({target:f,fields:["data","dataPath","leafletMap","render"]}),y={getLegend:function(e){var t=i.feature(e,e.objects.BKMapPluto),a=d3.extent(t.features.filter(function(e){return 0!==e.properties.AssessTot}),function(e){return e.properties.AssessTot}),n=d3.scaleLinear().domain([0,19]).range([0,1]),o=new Array(20).fill(0).map(function(e,t){var o={type:"rect",color:d3.interpolateYlOrRd(n(t)),text:""};return 0===t?o.text="$"+h(a[0]):19===t&&(o.text="$"+h(a[1])),o});return new p.default({name:"assessedValue",title:"Total Assessed Value",content:o,gradient:!0})},cleanData:function(e){var t=i.feature(e,e.objects.BKMapPluto),a=d3.extent(t.features.filter(function(e){return 0!==e.properties.AssessTot}),function(e){return e.properties.AssessTot}),n=d3.scalePow().exponent(.25).domain(a).range([0,1]);return t.features.map(function(e){var t=Object.assign({},e);return 0!==e.properties.AssessTot?t.properties.color=d3.interpolateYlOrRd(n(e.properties.AssessTot)):t.properties.color="grey",t})},getTooltipText:function(e){return[["Assessed Value: ","$"+h(e.properties.AssessTot)]]}},v={},g=function e(){o(this,e),f.set(this,{name:"assessedValue",status:!1,tooltipOffset:{x:10,y:10}})},b=(0,c.default)({privateProps:f,privateMethods:y}),w=b.publicBaseMethods,x=b.privateBaseMethods;Object.assign(g.prototype,m,v,w),Object.assign(y,x),t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(r),l=a(3),s=n(l),u=a(5),c=n(u),d=new WeakMap,p={"01":{text:"One & Two Family Buildings",color:"rgb(246,242,164)"},"02":{text:"Multi-Family Walk-Up Buildings",color:"rgb(255,224,148)"},"03":{text:"Multi-Family Elevator Buildings",color:"rgb(255,224,148)"},"04":{text:"Mixed Residential and Commercial Buildings",color:"rgb(244,190,136)"},"05":{text:"Commercial and Office Buildings",color:"rgb(234,144,158)"},"06":{text:"Industrial and Manufacturing",color:"rgb(200,100,220)"},"07":{text:"Transportation and Utility",color:"rgb(160,130,160)"},"08":{text:"Public Facilities and Institutions",color:"rgb(90,180,200)"},"09":{text:"Open Space and Outdoor Recreation",color:"rgb(180,220,150)"},10:{text:"Parking Facilities",color:"rgb(200,175,165)"},11:{text:"Vacant Land",color:"rgb(150,100,80)"}},f=new s.default({target:d,fields:["data","dataPath","leafletMap","render"]}),h={cleanData:function(e){var t=["04","05"];return i.feature(e,e.objects.BKMapPluto).features.filter(function(e){return t.includes(e.properties.LandUse)}).map(function(e){var t=Object.assign({},e),a=p[e.properties.LandUse];return void 0===a?(t.properties.color="grey",t.properties.landUseText="Undefined"):(t.properties.color=a.color,t.properties.landUseText=a.text),t})},getTooltipText:function(e){return[["Land Use: ",e.properties.landUseText]]}},m={},y=function e(){o(this,e),d.set(this,{name:"manufacturingLandUse",status:!1,tooltipOffset:{x:10,y:10}})},v=(0,c.default)({privateProps:d,privateMethods:h}),g=v.publicBaseMethods,b=v.privateBaseMethods;Object.assign(y.prototype,f,m,g),Object.assign(h,b),t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i),s=a(3),u=n(s),c=a(6),d=n(c),p=a(2),f=n(p),h=a(10),m=n(h),y=new WeakMap,v={white:"blue",asian:"red",black:"green",hispanic:"orange"},g={white:"Blue Dot = White, Not Hispanic",asian:"Red Dot = Asian, Not Hispanic",black:"Green Dot = Black, Not Hispanic",hispanic:"Orange Dot = Hispanic"},b={cleanData:function(e){return l.feature(e,e.objects.demographics10).features},draw:function(){var e=y.get(this),t=e.leafletMap,a=e.data,n=e.tooltip,o=e.tooltipOffset;e.mapLayer=L.geoJSON(d3.shuffle(a),{pointToLayer:function(e,t){return L.circleMarker(t,{radius:2,stroke:!1,fillColor:v[e.properties.race],fillOpacity:.75}).on("mouseover click",function(t){var a=[t.containerPoint.x+o.x,t.containerPoint.y+o.y];n.position(a).text([["",g[e.properties.race]],["","1 Dot = 10 People"]]).draw()}).on("mousemove",function(e){var t=[e.containerPoint.x+o.x,e.containerPoint.y+o.y];n.position(t).update()}).on("mouseout",function(){n.remove()})}}).addTo(t)}},w=new u.default({target:y,fields:["data","dataPath","leafletMap","render"]}),x=function(){function e(){o(this,e),y.set(this,{name:"demographics",status:!1,tooltipOffset:{x:10,y:10}})}return r(e,[{key:"init",value:function(){var e=y.get(this),t=e.name,a=d.default.find(function(e){return e.name===t});return e.dataPath=a.dataPath,e.tooltip=(new f.default).selection(d3.select("#map")),e.dataInfo=a,this}},{key:"draw",value:function(){var e=this,t=y.get(this),a=t.dataPath,n=t.data,o=t.status,r=t.dataInfo,i=t.name,l=b.draw,s=b.cleanData;if(!o){void 0===n?d3.json(a,function(a){t.data=s.call(e,a),l.call(e)}):l.call(this),t.status=!0;var u=Object.keys(g).map(function(e){return{text:g[e].split("=")[1],type:"dot",color:v[e]}});t.legend=new m.default({name:i,title:r.fullName,content:u}),t.legend.draw()}}},{key:"remove",value:function(){var e=y.get(this),t=e.mapLayer,a=e.status,n=e.legend;a&&(e.status=!1,t.remove(),n.remove())}}]),e}();Object.assign(x.prototype,w),t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(r),l=a(3),s=n(l),u=a(5),c=n(u),d=new WeakMap,p={"01":{text:"One & Two Family Buildings",color:"rgb(246,242,164)"},"02":{text:"Multi-Family Walk-Up Buildings",color:"rgb(255,224,148)"},"03":{text:"Multi-Family Elevator Buildings",color:"rgb(255,224,148)"},"04":{text:"Mixed Residential and Commercial Buildings",color:"rgb(244,190,136)"},"05":{text:"Commercial and Office Buildings",color:"rgb(234,144,158)"},"06":{text:"Industrial and Manufacturing",color:"rgb(200,100,220)"},"07":{text:"Transportation and Utility",color:"rgb(160,130,160)"},"08":{text:"Public Facilities and Institutions",color:"rgb(90,180,200)"},"09":{text:"Open Space and Outdoor Recreation",color:"rgb(180,220,150)"},10:{text:"Parking Facilities",color:"rgb(200,175,165)"},11:{text:"Vacant Land",color:"rgb(150,100,80)"}},f=new s.default({target:d,fields:["data","dataPath","leafletMap","render"]}),h={cleanData:function(e){return i.feature(e,e.objects.BKMapPluto).features.filter(function(e){return null!==e.properties.LandUse}).map(function(e){var t=Object.assign({},e),a=p[e.properties.LandUse];return void 0===a?(t.properties.color="grey",t.properties.landUseText="Undefined"):(t.properties.color=a.color,t.properties.landUseText=a.text),t})},getTooltipText:function(e){return[["Land Use: ",e.properties.landUseText]]}},m={},y=function e(){o(this,e),d.set(this,{name:"landuse",status:!1,tooltipOffset:{x:10,y:10}})},v=(0,c.default)({privateProps:d,privateMethods:h}),g=v.publicBaseMethods,b=v.privateBaseMethods;Object.assign(y.prototype,f,m,g),Object.assign(h,b),t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(r),l=a(3),s=n(l),u=a(5),c=n(u),d=new WeakMap,p={"01":{text:"One & Two Family Buildings",color:"rgb(246,242,164)"},"02":{text:"Multi-Family Walk-Up Buildings",color:"rgb(255,224,148)"},"03":{text:"Multi-Family Elevator Buildings",color:"rgb(255,224,148)"},"04":{text:"Mixed Residential and Commercial Buildings",color:"rgb(244,190,136)"},"05":{text:"Commercial and Office Buildings",color:"rgb(234,144,158)"},"06":{text:"Industrial and Manufacturing",color:"rgb(200,100,220)"},"07":{text:"Transportation and Utility",color:"rgb(160,130,160)"},"08":{text:"Public Facilities and Institutions",color:"rgb(90,180,200)"},"09":{text:"Open Space and Outdoor Recreation",color:"rgb(180,220,150)"},10:{text:"Parking Facilities",color:"rgb(200,175,165)"},11:{text:"Vacant Land",color:"rgb(150,100,80)"}},f=new s.default({target:d,fields:["data","dataPath","leafletMap","render"]}),h={cleanData:function(e){return i.feature(e,e.objects.BKMapPluto).features.filter(function(e){return"06"===e.properties.LandUse}).map(function(e){var t=Object.assign({},e),a=p[e.properties.LandUse];return void 0===a?(t.properties.color="grey",t.properties.landUseText="Undefined"):(t.properties.color=a.color,t.properties.landUseText=a.text),t})},getTooltipText:function(e){return[["Land Use: ",e.properties.landUseText]]}},m={},y=function e(){o(this,e),d.set(this,{name:"manufacturingLandUse",status:!1,tooltipOffset:{x:10,y:10}})},v=(0,c.default)({privateProps:d,privateMethods:h}),g=v.publicBaseMethods,b=v.privateBaseMethods;Object.assign(y.prototype,f,m,g),Object.assign(h,b),t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(r),l=a(3),s=n(l),u=a(5),c=n(u),d=new WeakMap,p={"01":{text:"One & Two Family Buildings",color:"rgb(246,242,164)"},"02":{text:"Multi-Family Walk-Up Buildings",color:"rgb(255,224,148)"},"03":{text:"Multi-Family Elevator Buildings",color:"rgb(255,224,148)"},"04":{text:"Mixed Residential and Commercial Buildings",color:"rgb(244,190,136)"},"05":{text:"Commercial and Office Buildings",color:"rgb(234,144,158)"},"06":{text:"Industrial and Manufacturing",color:"rgb(200,100,220)"},"07":{text:"Transportation and Utility",color:"rgb(160,130,160)"},"08":{text:"Public Facilities and Institutions",color:"rgb(90,180,200)"},"09":{text:"Open Space and Outdoor Recreation",color:"rgb(180,220,150)"},10:{text:"Parking Facilities",color:"rgb(200,175,165)"},11:{text:"Vacant Land",color:"rgb(150,100,80)"}},f=new s.default({target:d,fields:["data","dataPath","leafletMap","render"]}),h={cleanData:function(e){var t=["01","02","03","04"];return i.feature(e,e.objects.BKMapPluto).features.filter(function(e){return t.includes(e.properties.LandUse)}).map(function(e){var t=Object.assign({},e),a=p[e.properties.LandUse];return void 0===a?(t.properties.color="grey",t.properties.landUseText="Undefined"):(t.properties.color=a.color,t.properties.landUseText=a.text),t})},getTooltipText:function(e){return[["Land Use: ",e.properties.landUseText]]}},m={},y=function e(){o(this,e),d.set(this,{name:"manufacturingLandUse",status:!1,tooltipOffset:{x:10,y:10}})},v=(0,c.default)({privateProps:d,privateMethods:h}),g=v.publicBaseMethods,b=v.privateBaseMethods;Object.assign(y.prototype,f,m,g),Object.assign(h,b),t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i),s=a(3),u=n(s),c=a(6),d=n(c),p=a(2),f=n(p),h=new WeakMap,m={cleanData:function(e){return console.log("rawdata",e),l.feature(e,e.objects.over64_10).features},draw:function(){var e=h.get(this),t=e.leafletMap,a=e.data,n=e.tooltip,o=e.tooltipOffset;e.mapLayer=L.geoJSON(d3.shuffle(a),{pointToLayer:function(e,t){return L.circleMarker(t,{radius:2,stroke:!1,fillColor:"rgba(242, 60, 80, 1)",fillOpacity:.75}).on("mouseover click",function(e){var t=[e.containerPoint.x+o.x,e.containerPoint.y+o.y];n.position(t).text([["","Red Dot = > 64 Years Old"],["","1 Dot = 10 People"]]).draw()}).on("mousemove",function(e){var t=[e.containerPoint.x+o.x,e.containerPoint.y+o.y];n.position(t).update()}).on("mouseout",function(){n.remove()})}}).addTo(t)}},y=new u.default({target:h,fields:["data","dataPath","leafletMap","render"]}),v=function(){function e(){o(this,e),h.set(this,{name:"senior",status:!1,tooltipOffset:{x:10,y:10}})}return r(e,[{key:"init",value:function(){var e=h.get(this),t=e.name,a=d.default.find(function(e){return e.name===t});return e.dataPath=a.dataPath,e.tooltip=(new f.default).selection(d3.select("#map")),this}},{key:"draw",value:function(){var e=this,t=h.get(this),a=t.dataPath,n=t.data,o=t.status,r=m.draw,i=m.cleanData;o||(void 0===n?d3.json(a,function(a){t.data=i.call(e,a),r.call(e)}):r.call(this),t.status=!0)}},{key:"remove",value:function(){var e=h.get(this),t=e.mapLayer;e.status&&(e.status=!1,t.remove())}}]),e}();Object.assign(v.prototype,y),t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i),s=a(3),u=n(s),c=a(6),d=n(c),p=a(2),f=n(p),h=new WeakMap,m={cleanData:function(e){return l.feature(e,e.objects.under18_10).features},draw:function(){var e=h.get(this),t=e.leafletMap,a=e.data,n=e.tooltip,o=e.tooltipOffset;e.mapLayer=L.geoJSON(d3.shuffle(a),{pointToLayer:function(e,t){return L.circleMarker(t,{radius:2,stroke:!1,fillColor:"rgba(74, 217, 217, 1)",fillOpacity:.75}).on("mouseover click",function(e){var t=[e.containerPoint.x+o.x,e.containerPoint.y+o.y];n.position(t).text([["","Blue Dot = < 18 Years Old"],["","1 Dot = 10 People"]]).draw()}).on("mousemove",function(e){var t=[e.containerPoint.x+o.x,e.containerPoint.y+o.y];n.position(t).update()}).on("mouseout",function(){n.remove()})}}).addTo(t)}},y=new u.default({target:h,fields:["data","dataPath","leafletMap","render"]}),v=function(){function e(){o(this,e),h.set(this,{name:"youth",status:!1,tooltipOffset:{x:10,y:10}})}return r(e,[{key:"init",value:function(){var e=h.get(this),t=e.name,a=d.default.find(function(e){return e.name===t});return e.dataPath=a.dataPath,e.tooltip=(new f.default).selection(d3.select("#map")),this}},{key:"draw",value:function(){var e=this,t=h.get(this),a=t.dataPath,n=t.data,o=t.status,r=m.draw,i=m.cleanData;o||(void 0===n?d3.json(a,function(a){t.data=i.call(e,a),r.call(e)}):r.call(this),t.status=!0)}},{key:"remove",value:function(){var e=h.get(this),t=e.mapLayer;e.status&&(e.status=!1,t.remove())}}]),e}();Object.assign(v.prototype,y),t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(r),l=a(3),s=n(l),u=a(5),c=n(u),d=new WeakMap,p=new s.default({target:d,fields:["data","dataPath","leafletMap","render"]}),f={cleanData:function(e){return i.feature(e,e.objects.BKMapPluto).features.map(function(e){var t=Object.assign({},e),a=e.properties.ZoneDist1.slice(0,1);return t.properties.color="M"===a?"rgb(200,100,220)":"C"===a?"rgb(234,144,158)":"R"===a?"rgb(246,242,164)":"grey",t})},getTooltipText:function(e){return[["Zoning: ",e.properties.ZoneDist1]]}},h={},m=function e(){o(this,e),d.set(this,{name:"manufacturingLandUse",status:!1,tooltipOffset:{x:10,y:10}})},y=(0,c.default)({privateProps:d,privateMethods:f}),v=y.publicBaseMethods,g=y.privateBaseMethods;Object.assign(m.prototype,p,h,v),Object.assign(f,g),t.default=m},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e),this.setChainableProps(t),this._={}}return o(e,[{key:"props",value:function(){return this._}},{key:"setChainableProps",value:function(e){var t=this;e.forEach(function(e){t[e]=function(){return 0===arguments.length?this._[e]:(this._[e]=arguments.length<=0?void 0:arguments[0],this)}})}},{key:"defaultProps",value:function(e){Object.assign(this._,e)}}]),e}();t.default=r},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(7),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=new i.default(["map","transform","vectorPath","canvasPath","canvasContext"]),s=function(){function e(){n(this,e),l.addTo(this)}return o(e,[{key:"setTransformAndPath",value:function(){var e=this.props(),t=e.canvasContext,a=e.map,n=function(e,t){var n=a.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(n.x,n.y)};return this.transform(d3.geoTransform({point:n})),this.vectorPath(d3.geoPath().projection(this.transform())),this.canvasPath(d3.geoPath().projection(this.transform()).context(t)),this}}]),e}();t.default=s},function(e,t,a){var n=a(62);t=e.exports=a(11)(!1),t.push([e.i,".leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:hsla(0,0%,100%,.5)}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url("+n(a(71))+");width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url("+n(a(70))+");background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url("+n(a(72))+')}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:hsla(0,0%,100%,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}',""])},function(e,t,a){t=e.exports=a(11)(!1),t.push([e.i,".leaflet-pane>svg.d3-svg-overlay path{pointer-events:auto}svg{pointer-events:none}body,html{overscroll-behavior-y:contain!important}body{padding:0;margin:0}#map-outer-container{margin:0;position:relative;font-family:Arial,Helvetica,sans-serif;overflow:scroll}#map{position:relative;width:100%;height:100vh;background:grey}.quote{position:absolute;left:372px;bottom:50px;z-index:950;pointer-events:none;color:#fff;opacity:1;max-width:500px;transition:opacity .5s}.quote--hidden{display:none}.quote__text{font-size:18px}.quote__attribution{font-size:14px;margin-left:50px;margin-top:15px;font-style:italic}.title{position:absolute;color:cyan;left:50px;top:0;z-index:900;pointer-events:none;transform:rotate(90deg);transform-origin:bottom left}.title__main{font-size:60px;font-weight:700;line-height:50px}.title__sub{font-size:20px}.galleries-layer{fill:rgba(255,165,0,.8);pointer-events:auto;cursor:pointer}.galleries-layer:hover{fill:orange}.assessedValue-layer,.landuse-layer,.manufacturingLandUse-layer,.zoning-layer{opacity:.8;cursor:pointer;transition:opacity .25s}.assessedValue-layer:hover,.landuse-layer:hover,.manufacturingLandUse-layer:hover,.zoning-layer:hover{opacity:1!important}.plutoBounds-layer,.watershed-layer{stroke:orange;stroke-width:2.5;stroke-dasharray:10,5;fill:none;cursor:pointer}.plutoBounds-layer{stroke:#4ad9d9;stroke-width:4;stroke-dasharray:5,5}.ibz-layer{stroke:#f23c50;stroke-width:4;stroke-dasharray:5,5;fill:none;cursor:pointer}.plutoBounds-layer:hover,.watershed-layer:hover{stroke-width:3.5}.ibz-layer:hover,.plutoBounds-layer:hover{stroke-width:5}.cso-layer,.fema-layer,.nycha-layer,.parks-layer,.police-layer,.school-layer{stroke:orange;stroke-width:1.5;fill:rgba(255,165,0,.15);transition:fill .25s;cursor:pointer}.cso-layer--active,.fema-layer:hover,.nycha-layer:hover,.parks-layer:hover,.police-layer:hover,.school-layer:hover{fill:rgba(255,165,0,.5)}.parks-layer{stroke:#4fb99f;fill:rgba(79,185,159,.15)}.parks-layer:hover{fill:rgba(79,185,159,.5)}.nycha-layer{stroke:#f23c50;fill:rgba(242,60,80,.15)}.nycha-layer:hover{fill:rgba(242,60,80,.5)}.bike-layer--rack,.bus-layer--stop,.cso-layer-circle,.subway-layer--station{pointer-events:auto;stroke:#fff;stroke-width:1.5;fill:hsla(0,0%,100%,.5);transition:fill .25s;cursor:pointer}.bike-layer--rack:hover,.bus-layer--stop:hover,.cso-layer-circle--active,.subway-layer--station:hover{fill:hsla(0,0%,100%,.9)}.bike-layer--route,.bus-layer--route,.subway-layer--line{stroke:orange;fill:none;cursor:pointer}.bike-layer--route:hover,.bus-layer--route:hover,.subway-layer--line:hover{stroke:#fff}.subway-layer--station{stroke:#e9f1df;fill:rgba(242,60,80,.5)}.subway-layer--station:hover{fill:#f23c50}.subway-layer--line{stroke:#f23c50}.bus-layer--route{stroke:#4ad9d9}.bus-layer--stop{stroke:#e9f1df;fill:rgba(74,217,217,.5)}.bus-layer--stop:hover{fill:#4ad9d9}.hwater-layer,.sandy-layer{fill:#add8e6;fill-opacity:.35;transition:fill-opacity .25s;cursor:pointer}.hwater-layer:hover,.sandy-layer--selected{fill-opacity:.75}.top-menu{z-index:2000;position:fixed;background:rgba(0,0,0,.5);left:0;top:0;width:100%;height:auto;min-height:50px;padding:0;justify-content:space-between;align-items:center}.top-menu,.top-menu__buttons{display:flex}.top-menu__title-container{line-height:normal;padding-left:50px;display:block}.top-menu__title{color:cyan;margin-right:20px;font-size:18px;font-weight:700}.top-menu__sub-title{color:cyan;margin-right:50px;font-size:14px;padding-left:20px}.top-menu__item{color:#fff;cursor:pointer!important;margin-right:20px;font-size:16px;user-select:none}.top-menu__item:hover{color:#d3d3d3}.top-menu__popup{z-index:1000}.ui.popup{border:none;background:cyan}.top-menu__content--stories{width:350px}.top-menu__content--all{width:400px}.sidebar__header,.top-menu__header{font-size:18px;font-weight:700}.top-menu__interview-category{width:100%;margin-bottom:20px}.interviewsRow{display:flex}.top-menu__interview{display:flex;cursor:pointer;align-items:center;margin-bottom:10px}.top-menu__interview--active,.top-menu__interview:hover{color:#fff}.top-menu__category-hr{border:0;border-top:1px solid #000}.top-menu__interview-headshot{width:100px;height:100px;margin-right:15px}.top-menu__row-title{font-size:18px;margin-bottom:10px;font-weight:700}.top-menu__button-container{margin-bottom:15px;display:flex;flex-wrap:wrap}.sidebar__map-layer,.top-menu__map-layer{cursor:pointer;padding:3px 8px;border:1px solid #000;border-radius:8px;background:cyan;color:#000;transition:background .25s,color .25s;margin-right:10px;margin-bottom:5px}.sidebar__map-layer{background:#f6f2a4}.sidebar__map-layer--active,.sidebar__map-layer:hover,.top-menu__map-layer--active,.top-menu__map-layer:hover{color:cyan;background:#008282;border-color:#008282}.sidebar__map-layer--active,.sidebar__map-layer:hover{color:#f6f2a4;background:#868228;border-color:#868228}.top-menu__map-layer--disabled{opacity:.5;pointer-events:none}.top-menu__clear-button-row{display:flex;justify-content:flex-end}.top-menu__clear-button{cursor:pointer;font-weight:700}.top-menu__clear-button--hidden{display:none}.sidebar{position:absolute;left:50px;top:100px;width:272px;max-height:85vh;background:#f6f2a4;z-index:950;padding:15px;border-radius:10px;overflow-y:auto;opacity:0}.sidebar--hidden{display:none}.sidebar__close-button-row{display:inline-flex;float:right;margin-bottom:5px;font-size:16px}.sidebar__close-button-icon{pointer-events:none}.sidebar__close-button{cursor:pointer}.sidebar__section{margin-bottom:25px}.sidebar__video{position:relative;height:0;margin-top:5px;padding-bottom:56.25%}.sidebar__video iframe{position:absolute;top:0;left:0;width:100%;height:100%}.sidebar__button-container{margin-bottom:15px;display:flex;flex-wrap:wrap}.about__content,.ui.modal{background-color:transparent!important;color:#fff}.about__header{font-size:60px;font-weight:700;line-height:50px;margin-bottom:10px;color:cyan}.about__sub-header{font-size:20px;margin-bottom:15px;color:cyan}.about__section{margin-bottom:15px}.about__project-statement{font-size:16px;display:flex;align-items:center}.about__project-statement-text{margin-right:15px}.about__project-image{width:350px;height:auto;border-radius:5%}.about__explore-button-row{display:flex;justify-content:center;margin-top:30px}.about__explore-button{font-size:22px;border:1px solid cyan;color:cyan;border-radius:5px;padding:5px 13px;cursor:pointer}.about__explore-button:hover{color:#abfafa;border-color:#abfafa}.legend{position:absolute;bottom:125px;right:15px;z-index:1000;width:200px;background:#f6f2a4;border-radius:10px;display:none}.legend--on{display:block}.legend__inner{padding:10px}.legend__row{display:flex;align-items:center;margin-bottom:5px}.legend__row--gradient{margin-bottom:0;height:5px}.legend__row-text{margin-left:10px}.legend__layer-title{font-weight:700;margin-bottom:5px}.legend__block:not(:first-child){margin-top:15px}::-webkit-scrollbar{display:none}.ui.dimmer{z-index:2001!important}.ui.popup{height:50vh!important;overflow:scroll}@media screen and (min-width:68em){.ui.popup{width:350px;max-width:unset}}@media screen and (max-width:67em){.top-menu__title-container{padding-left:20px}.top-menu__buttons{padding-bottom:5px;width:max-content}.top-menu__buttons .top-menu__item:first-child{padding-left:20px}.top-menu__buttons .top-menu__item:last-child{padding-right:20px}.top-menu__buttons .top-menu__item{display:flex}.quote{padding-right:10px}.quote__attribution,.quote__text{font-size:14px!important}.legend{top:55px;bottom:auto!important}}@media screen and (max-width:48em){.top-menu{display:block!important}.top-menu__content{width:100%!important}.top-menu__buttons,.top-menu__title-container{padding-top:10px}.top-menu__buttons .top-menu__item{display:flex}.top-menu__sub-title{font-size:10px!important;padding-left:10px}.ui.popup{max-width:300px}.legend{top:75px}}@media screen and (max-width:36em){.top-menu__sub-title{display:none}.sidebar{position:relative!important;width:100%!important;height:100%!important;max-height:none!important;top:auto!important;left:auto!important;border-radius:0!important}.sidebar__close-button{transform:scale(2)}.about__header{font-size:30px!important}.about__project-statement{display:inline-block!important}.about__project-image-container{display:flex;justify-content:center;padding-top:20px}.about__project-image{max-width:350px!important;width:100%!important}#map.content-shown{height:60vh!important}.quote{left:10px!important;bottom:10px!important;max-width:250px!important}.quote__attribution,.quote__text{font-size:10px!important}.quote__attribution{margin-left:10px!important;margin-top:3px!important}.legend{bottom:5px!important;left:5px!important;top:auto!important;z-index:401!important;font-size:10px;line-height:10px;width:max-content!important}.legend.content-shown{bottom:25px!important;left:auto!important;top:auto;right:5px}.legend__row{margin-bottom:0!important}}@media screen and (max-width:26em){.legend.content-shown{position:relative;bottom:15px!important;left:5px!important}.legend.content-shown,.quote{top:auto!important;right:auto!important}.quote{position:relative!important;bottom:5px!important}#map.content-shown{height:72vh!important}.legend-quote-container{vertical-align:bottom;display:table-cell;height:inherit}.ui.popup{width:100%!important;max-width:unset!important;height:50vh!important;overflow:scroll}}@media screen and (max-width:21em){.top-menu__buttons .top-menu__item{font-size:14px}}",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,n=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var r;return r=0===o.indexOf("//")?o:0===o.indexOf("/")?a+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(e,t,a){"use strict";t.a=function(e,t){for(var a=0,n=e.length;a<n;){var o=a+n>>>1;e[o]<t?a=o+1:n=o}return a}},function(e,t,a){"use strict";function n(e){for(var t,a=-1,n=e.length,o=e[n-1],r=0;++a<n;)t=o,o=e[a],r+=t[0]*o[1]-t[1]*o[0];return Math.abs(r)}function o(e,t){function o(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(o);break;case"Polygon":l(e.arcs);break;case"MultiPolygon":e.arcs.forEach(l)}}function l(e){e.forEach(function(t){t.forEach(function(t){(u[t=t<0?~t:t]||(u[t]=[])).push(e)})}),c.push(e)}function s(t){return n(a.i(r.b)(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var u={},c=[],d=[];return t.forEach(o),c.forEach(function(e){if(!e._){var t=[],a=[e];for(e._=1,d.push(t);e=a.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){u[e<0?~e:e].forEach(function(e){e._||(e._=1,a.push(e))})})})}}),c.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:d.map(function(t){var n,o=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){u[e<0?~e:e].length<2&&o.push(e)})})}),o=a.i(i.a)(e,o),(n=o.length)>1)for(var r,l,c=1,d=s(o[0]);c<n;++c)(r=s(o[c]))>d&&(l=o[0],o[0]=o[c],o[c]=l,d=r);return o}).filter(function(e){return e.length>0})}}t.b=o;var r=a(8),i=a(15);t.a=function(e){return a.i(r.b)(e,o.apply(this,arguments))}},function(e,t,a){"use strict";function n(e,t,n){var r,l,s;if(arguments.length>1)r=o(e,t,n);else for(l=0,r=new Array(s=e.arcs.length);l<s;++l)r[l]=l;return{type:"MultiLineString",arcs:a.i(i.a)(e,r)}}function o(e,t,a){function n(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:s})}function o(e){e.forEach(n)}function r(e){e.forEach(o)}function i(e){e.forEach(r)}function l(e){switch(s=e,e.type){case"GeometryCollection":e.geometries.forEach(l);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":r(e.arcs);break;case"MultiPolygon":i(e.arcs)}}var s,u=[],c=[];return l(t),c.forEach(null==a?function(e){u.push(e[0].i)}:function(e){a(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}t.b=n;var r=a(8),i=a(15);t.a=function(e){return a.i(r.b)(e,n.apply(this,arguments))}},function(e,t,a){"use strict";var n=a(64);t.a=function(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var a=i[e];a?a.push(t):i[e]=[t]})}function o(e,a){e.forEach(function(e){t(e,a)})}function r(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){r(e,t)}):e.type in s&&s[e.type](e.arcs,t)}var i={},l=e.map(function(){return[]}),s={LineString:t,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach(function(e){o(e,t)})}};e.forEach(r);for(var u in i)for(var c=i[u],d=c.length,p=0;p<d;++p)for(var f=p+1;f<d;++f){var h,m=c[p],y=c[f];(h=l[m])[u=a.i(n.a)(h,y)]!==y&&h.splice(u,0,y),(h=l[y])[u=a.i(n.a)(h,m)]!==m&&h.splice(u,0,m)}return l}},function(e,t,a){"use strict";var n=a(13),o=a(16);t.a=function(e,t){function r(e){return m(e)}function i(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:r(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(r)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function l(e){var t,a=0,n=1,o=e.length,r=new Array(o);for(r[0]=m(e[0],0);++a<o;)((t=m(e[a],a))[0]||t[1])&&(r[n++]=t);return 1===n&&(r[n++]=[0,0]),r.length=n,r}if(e.transform)throw new Error("already quantized");if(t&&t.scale)f=e.bbox;else{if(!((s=Math.floor(t))>=2))throw new Error("n must be ≥2");f=e.bbox||a.i(n.a)(e);var s,u=f[0],c=f[1],d=f[2],p=f[3];t={scale:[d-u?(d-u)/(s-1):1,p-c?(p-c)/(s-1):1],translate:[u,c]}}var f,h,m=a.i(o.a)(t),y=e.objects,v={};for(h in y)v[h]=i(y[h]);return{type:"Topology",bbox:f,transform:t,objects:v,arcs:e.arcs.map(l)}}},function(e,t,a){"use strict";t.a=function(e,t){for(var a,n=e.length,o=n-t;o<--n;)a=e[o],e[o++]=e[n],e[n]=a}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="}]);
